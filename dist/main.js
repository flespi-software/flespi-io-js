!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flespiIO=t():e.flespiIO=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=138)}([function(e,t){var r=e.exports={version:"2.6.4"};"number"==typeof __e&&(__e=r)},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?d=h.concat(d):y=-1,d.length&&a())}function a(){if(!m){var e=o(s);m=!0;for(var t=d.length;t;){for(h=d,d=[];++y<t;)h&&h[y].run();y=-1,t=d.length}h=null,m=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var h,d=[],m=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new u(e,t)),1!==d.length||m||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";function n(e){return"[object Array]"===E.call(e)}function o(e){return"[object ArrayBuffer]"===E.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function s(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function f(e){return null!==e&&"object"==typeof e}function l(e){return"[object Date]"===E.call(e)}function p(e){return"[object File]"===E.call(e)}function h(e){return"[object Blob]"===E.call(e)}function d(e){return"[object Function]"===E.call(e)}function m(e){return f(e)&&d(e.pipe)}function y(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function _(){function e(e,r){"object"==typeof t[r]&&"object"==typeof e?t[r]=_(t[r],e):t[r]=e}for(var t={},r=0,n=arguments.length;r<n;r++)b(arguments[r],e);return t}function w(e,t,r){return b(t,function(t,n){e[n]=r&&"function"==typeof t?x(t,r):t}),e}var x=r(81),S=r(160),E=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:o,isBuffer:S,isFormData:i,isArrayBufferView:s,isString:a,isNumber:u,isObject:f,isUndefined:c,isDate:l,isFile:p,isBlob:h,isFunction:d,isStream:m,isURLSearchParams:y,isStandardBrowserEnv:g,forEach:b,merge:_,extend:w,trim:v}},function(e,t,r){var n=r(77)("wks"),o=r(78),i=r(2).Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return s(e,t,r)}var i=r(31),s=i.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=i:(n(i,t),t.Buffer=o),n(s,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var n=r(24);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){var n=r(2),o=r(0),i=r(25),s=r(18),a=r(35),u=function(e,t,r){var c,f,l,p=e&u.F,h=e&u.G,d=e&u.S,m=e&u.P,y=e&u.B,v=e&u.W,g=h?o:o[t]||(o[t]={}),b=g.prototype,_=h?n:d?n[t]:(n[t]||{}).prototype;h&&(r=t);for(c in r)(f=!p&&_&&void 0!==_[c])&&a(g,c)||(l=f?_[c]:r[c],g[c]=h&&"function"!=typeof _[c]?r[c]:y&&f?i(l,n):v&&_[c]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):m&&"function"==typeof l?i(Function.call,l):l,m&&((g.virtual||(g.virtual={}))[c]=l,e&u.R&&b&&!b[c]&&s(b,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){var n=r(26);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";e.exports=r(302)()?Symbol:r(303)},function(e,t,r){e.exports={default:r(155),__esModule:!0}},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);c.call(this,e),f.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||s.nextTick(i,this)}function i(e){e.end()}var s=r(30),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=n;var u=r(32);u.inherits=r(7);var c=r(113),f=r(118);u.inherits(n,c);for(var l=a(f.prototype),p=0;p<l.length;p++){var h=l[p];n.prototype[h]||(n.prototype[h]=f.prototype[h])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},function(e,t,r){"use strict";var n,o=r(72),i=r(126),s=r(298),a=r(127);n=e.exports=function(e,t){var r,n,s,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=s=!0,n=!1):(r=a.call(e,"c"),n=a.call(e,"e"),s=a.call(e,"w")),c={value:t,configurable:r,enumerable:n,writable:s},u?o(i(u),c):c},n.gs=function(e,t,r){var n,u,c,f;return"string"!=typeof e?(c=r,r=t,t=e,e=null):c=arguments[3],null==t?t=void 0:s(t)?null==r?r=void 0:s(r)||(c=r,r=void 0):(c=t,t=r=void 0),null==e?(n=!0,u=!1):(n=a.call(e,"c"),u=a.call(e,"e")),f={get:t,set:r,configurable:n,enumerable:u},c?o(i(c),f):f}},function(e,t,r){e.exports={default:r(140),__esModule:!0}},function(e,t,r){var n=r(19),o=r(50);e.exports=r(20)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(11),o=r(142),i=r(143),s=Object.defineProperty;t.f=r(20)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(87),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t,r){t=e.exports=r(113),t.Stream=t,t.Readable=t,t.Writable=r(118),t.Duplex=r(15),t.Transform=r(120),t.PassThrough=r(279)},function(e,t,r){"use strict";var n=r(122)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){var n=r(33);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){function n(e){return null==e?void 0===e?u:a:c&&c in Object(e)?i(e):s(e)}var o=r(60),i=r(190),s=r(191),a="[object Null]",u="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=n},function(e,t){e.exports={}},function(e,t,r){"use strict";function n(e){console&&console.warn&&console.warn(e)}function o(){o.init.call(this)}function i(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function s(e,t,r,o){var s,a,u;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(a=e._events,void 0===a?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),u=a[t]),void 0===u)u=a[t]=r,++e._eventsCount;else if("function"==typeof u?u=a[t]=o?[r,u]:[u,r]:o?u.unshift(r):u.push(r),(s=i(e))>0&&u.length>s&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,n(c)}return e}function a(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,y(this.listener,this.target,e))}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=a.bind(n);return o.listener=r,n.wrapFn=o,o}function c(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?h(o):l(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function l(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function h(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var d,m="object"==typeof Reflect?Reflect:null,y=m&&"function"==typeof m.apply?m.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};d=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var v=Number.isNaN||function(e){return e!==e};e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var g=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return i(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)y(a,this,t);else for(var u=a.length,c=l(a,u),r=0;r<u;++r)y(c[r],this,t);return!0},o.prototype.addListener=function(e,t){return s(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return s(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,o,i,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():p(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return c(this,e,!0)},o.prototype.rawListeners=function(e){return c(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},function(e,t,r){"use strict";(function(t){function r(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,o)});default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return t.nextTick(function(){e.apply(null,i)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:r}:e.exports=t}).call(t,r(1))},function(e,t,r){"use strict";(function(e){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,r)}function s(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,r,n):"string"==typeof t?f(e,t,r):h(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,r,n){return a(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}function c(e,t){if(a(t),e=o(e,t<0?0:0|d(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(t,r);e=o(e,n);var s=e.write(t,r);return s!==n&&(e=e.slice(0,s)),e}function l(e,t){var r=t.length<0?0:0|d(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=l(e,t),e}function h(e,t){if(i.isBuffer(t)){var r=0|d(t.length);return e=o(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?o(e,0):l(e,t);if("Buffer"===t.type&&X(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function y(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return K(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}var c;if(o){var f=-1;for(c=r;c<a;c++)if(i(e,c)===i(t,-1===f?0:c-f)){if(-1===f&&(f=c),c-f+1===u)return f*s}else-1!==f&&(c-=c-f),f=-1}else for(r+u>a&&(r=a-u),c=r;c>=0;c--){for(var l=!0,p=0;p<u;p++)if(i(e,c+p)!==i(t,p)){l=!1;break}if(l)return c}return-1}function w(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function x(e,t,r,n){return Q(K(t,e.length-r),e,r,n)}function S(e,t,r,n){return Q(W(t),e,r,n)}function E(e,t,r,n){return S(e,t,r,n)}function k(e,t,r,n){return Q(Y(t),e,r,n)}function O(e,t,r,n){return Q(V(t,e.length-r),e,r,n)}function j(e,t,r){return 0===t&&r===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){var u,c,f,l;switch(a){case 1:i<128&&(s=i);break;case 2:u=e[o+1],128==(192&u)&&(l=(31&i)<<6|63&u)>127&&(s=l);break;case 3:u=e[o+1],c=e[o+2],128==(192&u)&&128==(192&c)&&(l=(15&i)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:u=e[o+1],c=e[o+2],f=e[o+3],128==(192&u)&&128==(192&c)&&128==(192&f)&&(l=(15&i)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=a}return P(n)}function P(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return r}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=H(e[i]);return o}function M(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,r,n,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function B(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function N(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,o){return o||N(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return o||N(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function F(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function Y(e){return G.toByteArray(F(e))}function Q(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function $(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var G=r(116),J=r(272),X=r(114);t.Buffer=i,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,r){return s(null,e,t,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,r){return u(null,e,t,r)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,s=Math.min(r,n);o<s;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},i.byteLength=y,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var s=o-n,a=r-t,u=Math.min(s,a),c=this.slice(n,o),f=e.slice(t,r),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(i.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+e]}return n},i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},i.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){q(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){q(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);q(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);q(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,s=n-r;if(this===e&&r<t&&t<n)for(o=s-1;o>=0;--o)e[o+t]=this[o+r];else if(s<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=i.isBuffer(e)?e:K(new i(e,n).toString()),u=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(5))},function(e,t,r){(function(e){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function n(e){return"boolean"==typeof e}function o(e){return null===e}function i(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function f(e){return"[object RegExp]"===y(e)}function l(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===y(e)}function h(e){return"[object Error]"===y(e)||e instanceof Error}function d(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function y(e){return Object.prototype.toString.call(e)}t.isArray=r,t.isBoolean=n,t.isNull=o,t.isNullOrUndefined=i,t.isNumber=s,t.isString=a,t.isSymbol=u,t.isUndefined=c,t.isRegExp=f,t.isObject=l,t.isDate=p,t.isError=h,t.isFunction=d,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,r(31).Buffer)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(145),o=r(79);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(76),o=r(51);e.exports=function(e){return n(o(e))}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(51);e.exports=function(e){return Object(n(e))}},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(179),i=r(180),s=r(181),a=r(182),u=r(183);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}var o=r(42);e.exports=n},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){var n=r(58),o=n(Object,"create");e.exports=o},function(e,t,r){function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}var o=r(205);e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports=r(124)()?Object.setPrototypeOf:r(125)},function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===o}},function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===o)||!1}},function(e,t,r){var n=r(26),o=r(2).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(53),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(77)("keys"),o=r(78);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t){e.exports=!0},function(e,t,r){"use strict";(function(t){function n(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=r(3),i=r(162),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(82):void 0!==t&&(e=r(82)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){a.headers[e]={}}),o.forEach(["post","put","patch"],function(e){a.headers[e]=o.merge(s)}),e.exports=a}).call(t,r(1))},function(e,t,r){var n=r(177),o=r(234),i=o(function(e,t,r){n(e,t,r)});e.exports=i},function(e,t,r){function n(e,t){var r=i(e,t);return o(r)?r:void 0}var o=r(189),i=r(195);e.exports=n},function(e,t,r){function n(e){if(!i(e))return!1;var t=o(e);return t==a||t==u||t==s||t==c}var o=r(27),i=r(14),s="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=n},function(e,t,r){var n=r(21),o=n.Symbol;e.exports=o},function(e,t,r){function n(e,t,r){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var o=r(89);e.exports=n},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){return null!=e&&i(e.length)&&!o(e)}var o=r(59),i=r(93);e.exports=n},function(e,t,r){e.exports={default:r(244),__esModule:!0}},function(e,t,r){var n=r(19).f,o=r(35),i=r(4)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){"use strict";var n=r(253)(!0);r(101)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(103),o=r(4)("iterator"),i=r(28);e.exports=r(0).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){e.exports=r(255)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(104),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function n(i,s){try{var a=t[i](s),u=a.value}catch(e){return void r(e)}if(!a.done)return o.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}},function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r(33);e.exports.f=function(e){return new n(e)}},function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e}e.exports=r;var n=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";e.exports=r(293)()?Object.assign:r(294)},function(e,t,r){"use strict";var n,o=r(121),i=r(72),s=r(10),a=r(8),u=r(16),c=r(310),f=r(12),l=Object.defineProperty,p=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");p(this,{__list__:u("w",a(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(s(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,p(n.prototype,i({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[f.toStringTag]||"Object")+"]"})},c({_onAdd:u(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void l(this,"__redo__",u("c",[e]));this.__redo__.forEach(function(t,r){t>=e&&(this.__redo__[r]=++t)},this),this.__redo__.push(e)}}),_onDelete:u(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,r){t>e&&(this.__redo__[r]=--t)},this)))}),_onClear:u(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),l(n.prototype,f.iterator,u(function(){return this}))},function(e,t,r){"use strict";function n(e,t){function r(r){t.rejectUnauthorized&&e.emit("error",r),n.end()}var n;return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,n=o.connect(t),n.on("secureConnect",function(){t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",r)}),n.on("error",r),n}var o=r(341);e.exports=n},function(e,t,r){(function(t,n){var o=r(23),i=r(342),s=r(7),a=r(345),u=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},f=function(e,t){e._autoDestroy&&e.destroy(t)},l=function(e,t){return function(r){r?f(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},p=function(e,t){return e?e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),void t()):t()},h=function(e){return new o.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},d=function(e,t,r){if(!(this instanceof d))return new d(e,t,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(d,o.Duplex),d.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(e,t,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||!1===e)return void this.end();var t=this,r=i(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),o=function(){var e=t._ondrain;t._ondrain=null,e&&e()},s=function(){t._writable.removeListener("drain",o),r()};this._unwrite&&n.nextTick(o),this._writable=e,this._writable.on("drain",o),this._unwrite=s,this.uncork()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||!1===e)return this.push(null),void this.resume();var t=this,r=i(e,{writable:!1,readable:!0},l(this)),n=function(){t._forward()},o=function(){t.push(null)},s=function(){t._readable2.removeListener("readable",n),t._readable2.removeListener("end",o),r()};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:h(e),this._readable2.on("readable",n),this._readable2.on("end",o),this._unread=s,this._forward()},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick(function(){t._destroy(e)})}},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?c(this,this._write.bind(this,e,t,r)):e===u?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},d.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,function(){p(t._forwardEnd&&t._writable,function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)})})},d.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),o.Writable.prototype.end.call(this,r))},e.exports=d}).call(t,r(31).Buffer,r(1))},function(e,t,r){var n=r(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(0),o=r(2),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(55)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";(function(t){var n=r(3),o=r(163),i=r(165),s=r(166),a=r(167),u=r(83),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(168);e.exports=function(e){return new Promise(function(f,l){var p=e.data,h=e.headers;n.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,m="onreadystatechange",y=!1;if("test"===t.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,m="onload",y=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";h.Authorization="Basic "+c(v+":"+g)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[m]=function(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?d.response:d.responseText,n={data:r,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:t,config:e,request:d};o(f,l,n),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var b=r(169),_=(e.withCredentials||a(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;_&&(h[e.xsrfHeaderName]=_)}if("setRequestHeader"in d&&n.forEach(h,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===p&&(p=null),d.send(p)})}}).call(t,r(1))},function(e,t,r){"use strict";var n=r(164);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(58),o=r(21),i=n(o,"Map");e.exports=i},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(5))},function(e,t,r){function n(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||o(e,t,r)}var o=r(61),i=r(42);e.exports=n},function(e,t,r){var n=r(58),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,r){var n=r(219),o=n(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=r},function(e,t,r){var n=r(220),o=r(22),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,r){(function(e){var n=r(21),o=r(222),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i,u=a?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||o;e.exports=f}).call(t,r(45)(e))},function(e,t,r){var n=r(224),o=r(225),i=r(226),s=i&&i.isTypedArray,a=s?o(s):n;e.exports=a},function(e,t){function r(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=r},function(e,t,r){function n(e){return s(e)?o(e,!0):i(e)}var o=r(230),i=r(232),s=r(63);e.exports=n},function(e,t){function r(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){r(245);for(var n=r(2),o=r(18),i=r(28),s=r(4)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],f=n[c],l=f&&f.prototype;l&&!l[s]&&o(l,s,c),i[c]=i.Array}},function(e,t,r){"use strict";var n=r(55),o=r(9),i=r(248),s=r(18),a=r(28),u=r(249),c=r(65),f=r(252),l=r(4)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,d,m,y,v){u(r,t,d);var g,b,_,w=function(e){if(!p&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",S="values"==m,E=!1,k=e.prototype,O=k[l]||k["@@iterator"]||m&&k[m],j=O||w(m),I=m?S?w("entries"):j:void 0,P="Array"==t?k.entries||O:O;if(P&&(_=f(P.call(new e)))!==Object.prototype&&_.next&&(c(_,x,!0),n||"function"==typeof _[l]||s(_,l,h)),S&&O&&"values"!==O.name&&(E=!0,j=function(){return O.call(this)}),n&&!v||!p&&!E&&k[l]||s(k,l,j),a[t]=j,a[x]=h,m)if(g={values:S?j:w("values"),keys:y?j:w("keys"),entries:I},v)for(b in g)b in k||i(k,b,g[b]);else o(o.P+o.F*(p||E),t,g);return g}},function(e,t,r){var n=r(2).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(38),o=r(4)("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){e.exports={default:r(257),__esModule:!0}},function(e,t,r){var n=r(11);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(28),o=r(4)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(11),o=r(33),i=r(4)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},function(e,t,r){var n,o,i,s=r(25),a=r(262),u=r(102),c=r(49),f=r(2),l=f.process,p=f.setImmediate,h=f.clearImmediate,d=f.MessageChannel,m=f.Dispatch,y=0,v={},g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){g.call(e.data)};p&&h||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){a("function"==typeof e?e:Function(e),t)},n(y),y},h=function(e){delete v[e]},"process"==r(38)(l)?n=function(e){l.nextTick(s(g,e,1))}:m&&m.now?n=function(e){m.now(s(g,e,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=b,n=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:p,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(11),o=r(26),i=r(70);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(4)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},function(e,t,r){"use strict";(function(t){function n(e){if(!(this instanceof n))return new n(e);this.options=e||{},this.options=o(a,e),this._inflights=new u}var o=r(71),i=r(23).Readable,s={objectMode:!0},a={clean:!0},u=r(280);n.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},n.prototype.createStream=function(){var e=new i(s),r=!1,n=[],o=0;return this._inflights.forEach(function(e,t){n.push(e)}),e._read=function(){!r&&o<n.length?this.push(n[o++]):this.push(null)},e.destroy=function(){if(!r){var e=this;r=!0,t.nextTick(function(){e.emit("close")})}},e},n.prototype.del=function(e,t){return e=this._inflights.get(e.messageId),e?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},n.prototype.get=function(e,t){return e=this._inflights.get(e.messageId),e?t(null,e):t&&t(new Error("missing packet")),this},n.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},e.exports=n}).call(t,r(1))},function(e,t,r){"use strict";(function(t,n){function o(e){return B.from(e)}function i(e){return B.isBuffer(e)||e instanceof N}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function a(e,t){M=M||r(15),e=e||{};var n=t instanceof M;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(z||(z=r(119).StringDecoder),this.decoder=new z(e.encoding),this.encoding=e.encoding)}function u(e){if(M=M||r(15),!(this instanceof u))return new u(e);this._readableState=new a(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),L.call(this)}function c(e,t,r,n,i){var s=e._readableState;if(null===t)s.reading=!1,m(e,s);else{var a;i||(a=l(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===B.prototype||(t=o(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):f(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?f(e,s,t,!1):g(e,s)):f(e,s,t,!1))):n||(s.reading=!1)}return p(s)}function f(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&y(e)),g(e,t)}function l(e,t){var r;return i(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=V?e=V:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function d(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,y(e)}}function y(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(F("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?C.nextTick(v,e):v(e))}function v(e){F("emit readable"),e.emit("readable"),E(e)}function g(e,t){t.readingMore||(t.readingMore=!0,C.nextTick(b,e,t))}function b(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(F("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;F("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&q(e,"data")&&(t.flowing=!0,E(e))}}function w(e){F("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,C.nextTick(S,e,t))}function S(e,t){t.reading||(F("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(F("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=O(e,t.buffer,t.decoder),r}function O(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?j(e,t):I(e,t),n}function j(e,t){var r=t.head,n=1,o=r.data;for(e-=o.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,o}function I(e,t){var r=B.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++o}return t.length-=o,r}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,C.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function T(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var C=r(30);e.exports=u;var M,R=r(114);u.ReadableState=a;var q=(r(29).EventEmitter,function(e,t){return e.listeners(t).length}),L=r(115),B=r(6).Buffer,N=t.Uint8Array||function(){},U=r(32);U.inherits=r(7);var D=r(273),F=void 0;F=D&&D.debuglog?D.debuglog("stream"):function(){};var z,H=r(274),K=r(117);U.inherits(u,L);var W=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=K.destroy,u.prototype._undestroy=K.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=B.from(e,t),t=""),r=!0),c(this,e,t,!1,r)},u.prototype.unshift=function(e){return c(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return z||(z=r(119).StringDecoder),this._readableState.decoder=new z(e),this._readableState.encoding=e,this};var V=8388608;u.prototype.read=function(e){F("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return F("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):y(this),null;if(0===(e=d(e,t))&&t.ended)return 0===t.length&&P(this),null;var n=t.needReadable;F("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,F("length less than watermark",n)),t.ended||t.reading?(n=!1,F("reading or ended",n)):n&&(F("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=d(r,t)));var o;return o=e>0?k(e,t):null,null===o?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&P(this)),null!==o&&this.emit("data",o),o},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function r(e,t){F("onunpipe"),e===p&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,i())}function o(){F("onend"),e.end()}function i(){F("cleanup"),e.removeListener("close",c),e.removeListener("finish",f),e.removeListener("drain",y),e.removeListener("error",u),e.removeListener("unpipe",r),p.removeListener("end",o),p.removeListener("end",l),p.removeListener("data",a),v=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||y()}function a(t){F("ondata"),g=!1,!1!==e.write(t)||g||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==T(h.pipes,e))&&!v&&(F("false write response, pause",p._readableState.awaitDrain),p._readableState.awaitDrain++,g=!0),p.pause())}function u(t){F("onerror",t),l(),e.removeListener("error",u),0===q(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",f),l()}function f(){F("onfinish"),e.removeListener("close",c),l()}function l(){F("unpipe"),p.unpipe(e)}var p=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,F("pipe count=%d opts=%j",h.pipesCount,t);var d=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,m=d?o:l;h.endEmitted?C.nextTick(m):p.once("end",m),e.on("unpipe",r);var y=_(p);e.on("drain",y);var v=!1,g=!1;return p.on("data",a),s(e,"error",u),e.once("close",c),e.once("finish",f),e.emit("pipe",p),h.flowing||(F("pipe resume"),p.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var s=T(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},u.prototype.on=function(e,t){var r=L.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&y(this):C.nextTick(w,this))}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(F("resume"),e.flowing=!0,x(this,e)),this},u.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(F("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){if(F("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!==o&&void 0!==o)&&(r.objectMode||o&&o.length)){t.push(o)||(n=!0,e.pause())}});for(var o in e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<W.length;i++)e.on(W[i],this.emit.bind(this,W[i]));return this._read=function(t){F("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=k}).call(t,r(5),r(1))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){e.exports=r(29).EventEmitter},function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function o(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o}function i(e,t,r){return 3*(t+r)/4-r}function s(e){for(var t,r=n(e),o=r[0],s=r[1],a=new p(i(e,o,s)),u=0,c=s>0?o-4:o,f=0;f<c;f+=4)t=l[e.charCodeAt(f)]<<18|l[e.charCodeAt(f+1)]<<12|l[e.charCodeAt(f+2)]<<6|l[e.charCodeAt(f+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;return 2===s&&(t=l[e.charCodeAt(f)]<<2|l[e.charCodeAt(f+1)]>>4,a[u++]=255&t),1===s&&(t=l[e.charCodeAt(f)]<<10|l[e.charCodeAt(f+1)]<<4|l[e.charCodeAt(f+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t),a}function a(e){return f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}function u(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(a(n));return o.join("")}function c(e){for(var t,r=e.length,n=r%3,o=[],i=0,s=r-n;i<s;i+=16383)o.push(u(e,i,i+16383>s?s:i+16383));return 1===n?(t=e[r-1],o.push(f[t>>2]+f[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(f[t>>10]+f[t>>4&63]+f[t<<2&63]+"=")),o.join("")}t.byteLength=o,t.toByteArray=s,t.fromByteArray=c;for(var f=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=h.length;d<m;++d)f[d]=h[d],l[h.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t,r){"use strict";function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(e,t){e.emit("error",t)}var s=r(30);e.exports={destroy:n,undestroy:o}},function(e,t,r){"use strict";(function(t,n,o){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){j(t,e)}}function s(e){return R.from(e)}function a(e){return R.isBuffer(e)||e instanceof q}function u(){}function c(e,t){P=P||r(15),e=e||{};var n=t instanceof P;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function f(e){if(P=P||r(15),!(B.call(f,this)||this instanceof P))return new f(e);this._writableState=new c(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),M.call(this)}function l(e,t){var r=new Error("write after end");e.emit("error",r),I.nextTick(t,r)}function p(e,t,r,n){var o=!0,i=!1;return null===r?i=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),I.nextTick(n,i),o=!1),o}function h(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=R.from(t,r)),t}function d(e,t,r,n,o,i){if(!r){var s=h(t,n,o);n!==s&&(r=!0,o="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,n,o,i);return u}function m(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function y(e,t,r,n,o){--t.pendingcb,r?(I.nextTick(o,n),I.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),k(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(v(r),t)y(e,r,n,t,o);else{var i=x(r);i||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?A(b,e,r,i,o):b(e,r,i,o)}}function b(e,t,r,n){r||_(e,t),t.pendingcb--,n(),k(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,I.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function k(e,t){var r=x(t);return r&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function O(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?I.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function j(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var I=r(30);e.exports=f;var P,A=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:I.nextTick;f.WritableState=c;var T=r(32);T.inherits=r(7);var C={deprecate:r(278)},M=r(115),R=r(6).Buffer,q=o.Uint8Array||function(){},L=r(117);T.inherits(f,M),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var B;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(e){return!!B.call(this,e)||this===f&&(e&&e._writableState instanceof c)}})):B=function(e){return e instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(e,t,r){var n=this._writableState,o=!1,i=!n.objectMode&&a(e);return i&&!R.isBuffer(e)&&(e=s(e)),"function"==typeof t&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=u),n.ended?l(this,r):(i||p(this,n,e,r))&&(n.pendingcb++,o=d(this,n,i,e,t,r)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},f.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||O(this,n,r)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),f.prototype.destroy=L.destroy,f.prototype._undestroy=L.undestroy,f.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(1),r(276).setImmediate,r(5))},function(e,t,r){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=n(e);if("string"!=typeof t&&(g.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=o(e);var t;switch(this.encoding){case"utf16le":this.text=p,this.end=h,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=d,this.end=m,t=3;break;default:return this.write=y,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e,t,r){var n=t.length-1;if(n<r)return 0;var o=s(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=s(t[n]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0)}function u(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}function c(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){var r=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var g=r(6).Buffer,b=g.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=l,i.prototype.text=f,i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";function n(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){s(e,t,r)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var a=r(15),u=r(32);u.inherits=r(7),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;a.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";var n=r(8);e.exports=function(){return n(this).length=0,this}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(287),o=Math.max;e.exports=function(e){return o(0,n(e))}},function(e,t,r){"use strict";var n=Object.create,o=Object.getPrototypeOf,i={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"==typeof e&&o(e(t(null),i))===i}},function(e,t,r){"use strict";var n,o=r(291),i=r(8),s=Object.prototype.isPrototypeOf,a=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(e,t){if(i(e),null===t||o(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,r;return e?(2===e.level?e.set?(r=e.set,t=function(e,t){return r.call(n(e,t),t),e}):t=function(e,t){return n(e,t).__proto__=t,e}:t=function e(t,r){var o;return n(t,r),o=s.call(e.nullPolyfill,t),o&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,o&&a(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{e=n.set,e.call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:(t={},t.__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}()),r(292)},function(e,t,r){"use strict";var n=r(24),o=Array.prototype.forEach,i=Object.create,s=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=i(null);return o.call(arguments,function(e){n(e)&&s(Object(e),t)}),t}},function(e,t,r){"use strict";e.exports=r(299)()?String.prototype.contains:r(300)},function(e,t,r){"use strict";var n=r(306);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,r){"use strict";function n(e){return[0,1,2].map(function(t){return[0,1].map(function(r){return[0,1].map(function(n){var s=new o(1);return s.writeUInt8(i.codes[e]<<i.CMD_SHIFT|(r?i.DUP_MASK:0)|t<<i.QOS_SHIFT|n,0,!0),s})})})}var o=r(6).Buffer,i=e.exports;i.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},i.codes={};for(var s in i.types){var a=i.types[s];i.codes[a]=s}i.CMD_SHIFT=4,i.CMD_MASK=240,i.DUP_MASK=8,i.QOS_MASK=3,i.QOS_SHIFT=1,i.RETAIN_MASK=1,i.LENGTH_MASK=127,i.LENGTH_FIN_MASK=128,i.SESSIONPRESENT_MASK=1,i.SESSIONPRESENT_HEADER=o.from([i.SESSIONPRESENT_MASK]),i.CONNACK_HEADER=o.from([i.codes.connack<<i.CMD_SHIFT]),i.USERNAME_MASK=128,i.PASSWORD_MASK=64,i.WILL_RETAIN_MASK=32,i.WILL_QOS_MASK=24,i.WILL_QOS_SHIFT=3,i.WILL_FLAG_MASK=4,i.CLEAN_SESSION_MASK=2,i.CONNECT_HEADER=o.from([i.codes.connect<<i.CMD_SHIFT]),i.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},i.propertiesCodes={};for(var u in i.properties){var c=i.properties[u];i.propertiesCodes[c]=u}i.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},i.PUBLISH_HEADER=n("publish"),i.SUBSCRIBE_HEADER=n("subscribe"),i.SUBSCRIBE_OPTIONS_QOS_MASK=3,i.SUBSCRIBE_OPTIONS_NL_MASK=1,i.SUBSCRIBE_OPTIONS_NL_SHIFT=2,i.SUBSCRIBE_OPTIONS_RAP_MASK=1,i.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,i.SUBSCRIBE_OPTIONS_RH_MASK=3,i.SUBSCRIBE_OPTIONS_RH_SHIFT=4,i.SUBSCRIBE_OPTIONS_RH=[0,16,32],i.SUBSCRIBE_OPTIONS_NL=4,i.SUBSCRIBE_OPTIONS_RAP=8,i.SUBSCRIBE_OPTIONS_QOS=[0,1,2],i.UNSUBSCRIBE_HEADER=n("unsubscribe"),i.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},i.SUBACK_HEADER=o.from([i.codes.suback<<i.CMD_SHIFT]),i.VERSION3=o.from([3]),i.VERSION4=o.from([4]),i.VERSION5=o.from([5]),i.QOS=[0,1,2].map(function(e){return o.from([e])}),i.EMPTY={pingreq:o.from([i.codes.pingreq<<4,0]),pingresp:o.from([i.codes.pingresp<<4,0]),disconnect:o.from([i.codes.disconnect<<4,0])}},function(e,t,r){"use strict";function n(e,t,r){switch(t.cork&&(t.cork(),R(o,t)),F&&(F=!1,B()),e.cmd){case"connect":return i(e,t,r);case"connack":return s(e,t,r);case"publish":return a(e,t,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return u(e,t,r);case"subscribe":return c(e,t,r);case"suback":return f(e,t,r);case"unsubscribe":return l(e,t,r);case"unsuback":return p(e,t,r);case"pingreq":case"pingresp":return h(e,t,r);case"disconnect":return d(e,t,r);case"auth":return m(e,t,r);default:return t.emit("error",new Error("Unknown command")),!1}}function o(e){e.uncork()}function i(e,t,r){var n=e||{},o=n.protocolId||"MQTT",i=n.protocolVersion||4,s=n.will,a=n.clean,u=n.keepalive||0,c=n.clientId||"",f=n.username,l=n.password,p=n.properties;void 0===a&&(a=!0);var h=0;if(!o||"string"!=typeof o&&!A.isBuffer(o))return t.emit("error",new Error("Invalid protocolId")),!1;if(h+=o.length+2,3!==i&&4!==i&&5!==i)return t.emit("error",new Error("Invalid protocol version")),!1;if(h+=1,"string"!=typeof c&&!A.isBuffer(c)||!c&&4!==i||!c&&!a){if(i<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*a==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else h+=c.length+2;if("number"!=typeof u||u<0||u>65535||u%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(h+=2,h+=1,5===i){var d=S(t,p);h+=d.length}if(s){if("object"!=typeof s)return t.emit("error",new Error("Invalid will")),!1;if(!s.topic||"string"!=typeof s.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(h+=A.byteLength(s.topic)+2,h+=2,s.payload){if(!(s.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"==typeof s.payload?h+=A.byteLength(s.payload):h+=s.payload.length}var m={};5===i&&(m=S(t,s.properties),h+=m.length)}var g=!1;if(null!=f){if(!I(f))return t.emit("error",new Error("Invalid username")),!1;g=!0,h+=A.byteLength(f)+2}if(null!=l){if(!g)return t.emit("error",new Error("Username is required to use password")),!1;if(!I(l))return t.emit("error",new Error("Invalid password")),!1;h+=j(l)+2}t.write(P.CONNECT_HEADER),y(t,h),x(t,o),t.write(4===i?P.VERSION4:5===i?P.VERSION5:P.VERSION3);var b=0;return b|=null!=f?P.USERNAME_MASK:0,b|=null!=l?P.PASSWORD_MASK:0,b|=s&&s.retain?P.WILL_RETAIN_MASK:0,b|=s&&s.qos?s.qos<<P.WILL_QOS_SHIFT:0,b|=s?P.WILL_FLAG_MASK:0,b|=a?P.CLEAN_SESSION_MASK:0,t.write(A.from([b])),D(t,u),5===i&&d.write(),x(t,c),s&&(5===i&&m.write(),v(t,s.topic),x(t,s.payload)),null!=f&&x(t,f),null!=l&&x(t,l),!0}function s(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=5===n?o.reasonCode:o.returnCode,s=o.properties,a=2;if("number"!=typeof i)return t.emit("error",new Error("Invalid return code")),!1;var u=null;return 5===n&&(u=S(t,s),a+=u.length),t.write(P.CONNACK_HEADER),y(t,a),t.write(o.sessionPresent?P.SESSIONPRESENT_HEADER:C),t.write(A.from([i])),null!=u&&u.write(),!0}function a(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.qos||0,s=o.retain?P.RETAIN_MASK:0,a=o.topic,u=o.payload||T,c=o.messageId,f=o.properties,l=0;if("string"==typeof a)l+=A.byteLength(a)+2;else{if(!A.isBuffer(a))return t.emit("error",new Error("Invalid topic")),!1;l+=a.length+2}if(A.isBuffer(u)?l+=u.length:l+=A.byteLength(u),i&&"number"!=typeof c)return t.emit("error",new Error("Invalid messageId")),!1;i&&(l+=2);var p=null;return 5===n&&(p=S(t,f),l+=p.length),t.write(P.PUBLISH_HEADER[i][o.dup?1:0][s?1:0]),y(t,l),D(t,j(a)),t.write(a),i>0&&D(t,c),null!=p&&p.write(),t.write(u)}function u(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.cmd||"puback",s=o.messageId,a=o.dup&&"pubrel"===i?P.DUP_MASK:0,u=0,c=o.reasonCode,f=o.properties,l=5===n?3:2;if("pubrel"===i&&(u=1),"number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;var p=null;if(5===n){if(!(p=E(t,f,r,l)))return!1;l+=p.length}return t.write(P.ACKS[i][u][a][0]),y(t,l),D(t,s),5===n&&t.write(A.from([c])),null!==p&&p.write(),!0}function c(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.dup?P.DUP_MASK:0,s=o.messageId,a=o.subscriptions,u=o.properties,c=0;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;c+=2;var f=null;if(5===n&&(f=S(t,u),c+=f.length),"object"!=typeof a||!a.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var l=0;l<a.length;l+=1){var p=a[l].topic,h=a[l].qos;if("string"!=typeof p)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof h)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===n){if("boolean"!=typeof(a[l].nl||!1))return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(a[l].rap||!1))return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var d=a[l].rh||0;if("number"!=typeof d||d>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}c+=A.byteLength(p)+2+1}t.write(P.SUBSCRIBE_HEADER[1][i?1:0][0]),y(t,c),D(t,s),null!==f&&f.write();for(var m=!0,g=0;g<a.length;g++){var b,_=a[g],w=_.topic,x=_.qos,E=+_.nl,k=+_.rap,O=_.rh;v(t,w),b=P.SUBSCRIBE_OPTIONS_QOS[x],5===n&&(b|=E?P.SUBSCRIBE_OPTIONS_NL:0,b|=k?P.SUBSCRIBE_OPTIONS_RAP:0,b|=O?P.SUBSCRIBE_OPTIONS_RH[O]:0),m=t.write(A.from([b]))}return m}function f(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.messageId,s=o.granted,a=o.properties,u=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof s||!s.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var c=0;c<s.length;c+=1){if("number"!=typeof s[c])return t.emit("error",new Error("Invalid qos vector")),!1;u+=1}var f=null;if(5===n){if(!(f=E(t,a,r,u)))return!1;u+=f.length}return t.write(P.SUBACK_HEADER),y(t,u),D(t,i),null!==f&&f.write(),t.write(A.from(s))}function l(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.messageId,s=o.dup?P.DUP_MASK:0,a=o.unsubscriptions,u=o.properties,c=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(c+=2,"object"!=typeof a||!a.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var f=0;f<a.length;f+=1){if("string"!=typeof a[f])return t.emit("error",new Error("Invalid unsubscriptions")),!1;c+=A.byteLength(a[f])+2}var l=null;5===n&&(l=S(t,u),c+=l.length),t.write(P.UNSUBSCRIBE_HEADER[1][s?1:0][0]),y(t,c),D(t,i),null!==l&&l.write();for(var p=!0,h=0;h<a.length;h++)p=v(t,a[h]);return p}function p(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.messageId,s=o.dup?P.DUP_MASK:0,a=o.granted,u=o.properties,c=o.cmd,f=2;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(5===n){if("object"!=typeof a||!a.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var l=0;l<a.length;l+=1){if("number"!=typeof a[l])return t.emit("error",new Error("Invalid qos vector")),!1;f+=1}}var p=null;if(5===n){if(!(p=E(t,u,r,f)))return!1;f+=p.length}return t.write(P.ACKS[c][0][s][0]),y(t,f),D(t,i),null!==p&&p.write(),5===n&&t.write(A.from(a)),!0}function h(e,t,r){return t.write(P.EMPTY[e.cmd])}function d(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.reasonCode,s=o.properties,a=5===n?1:0,u=null;if(5===n){if(!(u=E(t,s,r,a)))return!1;a+=u.length}return t.write(A.from([P.codes.disconnect<<4])),y(t,a),5===n&&t.write(A.from([i])),null!==u&&u.write(),!0}function m(e,t,r){var n=r?r.protocolVersion:4,o=e||{},i=o.reasonCode,s=o.properties,a=5===n?1:0;5!==n&&t.emit("error",new Error("Invalid mqtt version for auth packet"));var u=E(t,s,r,a);return!!u&&(a+=u.length,t.write(A.from([P.codes.auth<<4])),y(t,a),t.write(A.from([i])),null!==u&&u.write(),!0)}function y(e,t){var r=z[t];r||(r=N(t).data,t<16384&&(z[t]=r)),e.write(r)}function v(e,t){var r=A.byteLength(t);D(e,r),e.write(t,"utf8")}function g(e,t,r){v(e,t),v(e,r)}function b(e,t){return e.write(q[t])}function _(e,t){return e.write(L(t))}function w(e,t){return e.write(U(t))}function x(e,t){"string"==typeof t?v(e,t):t?(D(e,t.length),e.write(t)):D(e,0)}function S(e,t){function r(t,r){var n=P.propertiesTypes[t],o=0;switch(n){case"byte":if("boolean"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=2;break;case"int8":if("number"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=2;break;case"binary":if(r&&null===r)return e.emit("error",new Error("Invalid "+t)),!1;o+=1+A.byteLength(r)+2;break;case"int16":if("number"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=3;break;case"int32":if("number"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=5;break;case"var":if("number"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=1+N(r).length;break;case"string":if("string"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=3+A.byteLength(r.toString());break;case"pair":if("object"!=typeof r)return e.emit("error",new Error("Invalid "+t)),!1;o+=Object.getOwnPropertyNames(r).reduce(function(e,t){var n=r[t];return Array.isArray(n)?e+=n.reduce(function(e,r){return e+=3+A.byteLength(t.toString())+2+A.byteLength(r.toString())},0):e+=3+A.byteLength(t.toString())+2+A.byteLength(r[t].toString()),e},0);break;default:return e.emit("error",new Error("Invalid property "+t)),!1}return o}if("object"!=typeof t||null!=t.length)return{length:1,write:function(){O(e,{},0)}};var n=0;if(t)for(var o in t){var i=0,s=t[o];if(Array.isArray(s))for(var a=0;a<s.length;a++)i+=r(o,s[a]);else i=r(o,s);if(!i)return!1;n+=i}return{length:N(n).length+n,write:function(){O(e,t,n)}}}function E(e,t,r,n){var o=["reasonString","userProperties"],i=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=S(e,t);if(i)for(;n+s.length>i;){var a=o.shift();if(!a||!t[a])return!1;delete t[a],s=S(e,t)}return s}function k(e,t,r){switch(P.propertiesTypes[t]){case"byte":e.write(A.from([P.properties[t]])),e.write(A.from([+r]));break;case"int8":e.write(A.from([P.properties[t]])),e.write(A.from([r]));break;case"binary":e.write(A.from([P.properties[t]])),x(e,r);break;case"int16":e.write(A.from([P.properties[t]])),D(e,r);break;case"int32":e.write(A.from([P.properties[t]])),w(e,r);break;case"var":e.write(A.from([P.properties[t]])),y(e,r);break;case"string":e.write(A.from([P.properties[t]])),v(e,r);break;case"pair":Object.getOwnPropertyNames(r).forEach(function(n){var o=r[n];Array.isArray(o)?o.forEach(function(r){e.write(A.from([P.properties[t]])),g(e,n.toString(),r.toString())}):(e.write(A.from([P.properties[t]])),g(e,n.toString(),o.toString()))});break;default:return e.emit("error",new Error("Invalid property "+t+" value: "+r)),!1}}function O(e,t,r){y(e,r);for(var n in t)if(t.hasOwnProperty(n)&&null!==t[n]){var o=t[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)k(e,n,o[i]);else k(e,n,o)}}function j(e){return e?e instanceof A?e.length:A.byteLength(e):0}function I(e){return"string"==typeof e||e instanceof A}var P=r(129),A=r(6).Buffer,T=A.allocUnsafe(0),C=A.from([0]),M=r(332),R=r(30).nextTick,q=M.cache,L=M.generateNumber,B=M.generateCache,N=M.genBufVariableByteInt,U=M.generate4ByteBuffer,D=b,F=!0;Object.defineProperty(n,"cacheNumbers",{get:function(){return D===b},set:function(e){e?(q&&0!==Object.keys(q).length||(F=!0),D=b):(F=!1,D=_)}});var z={};e.exports=n},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,r){if(e&&c.isObject(e)&&e instanceof n)return e;var o=new n;return o.parse(e,t,r),o}function i(e){return c.isString(e)&&(e=o(e)),e instanceof n?e.format():n.prototype.format.call(e)}function s(e,t){return o(e,!1,!0).resolve(t)}function a(e,t){return e?o(e,!1,!0).resolveObject(t):t}var u=r(335),c=r(336);t.parse=o,t.resolve=s,t.resolveObject=a,t.format=i,t.Url=n;var f=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(d),y=["%","/","?",";","#"].concat(m),v=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=r(337);n.prototype.parse=function(e,t,r){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(o),s=/\\/g;i[0]=i[0].replace(s,"/"),e=i.join(o);var a=e;if(a=a.trim(),!r&&1===e.split("#").length){var l=p.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?S.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=f.exec(a);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===a.substr(0,2);!E||h&&w[h]||(a=a.substr(2),this.slashes=!0)}if(!w[h]&&(E||h&&!x[h])){for(var k=-1,O=0;O<v.length;O++){var j=a.indexOf(v[O]);-1!==j&&(-1===k||j<k)&&(k=j)}var I,P;P=-1===k?a.lastIndexOf("@"):a.lastIndexOf("@",k),-1!==P&&(I=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(I)),k=-1;for(var O=0;O<y.length;O++){var j=a.indexOf(y[O]);-1!==j&&(-1===k||j<k)&&(k=j)}-1===k&&(k=a.length),this.host=a.slice(0,k),a=a.slice(k),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var T=this.hostname.split(/\./),O=0,C=T.length;O<C;O++){var M=T[O];if(M&&!M.match(g)){for(var R="",q=0,L=M.length;q<L;q++)M.charCodeAt(q)>127?R+="x":R+=M[q];if(!R.match(g)){var B=T.slice(0,O),N=T.slice(O+1),U=M.match(b);U&&(B.push(U[1]),N.unshift(U[2])),N.length&&(a="/"+N.join(".")+a),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=u.toASCII(this.hostname));var D=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+D,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!_[d])for(var O=0,C=m.length;O<C;O++){var z=m[O];if(-1!==a.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),a=a.split(z).join(H)}}var K=a.indexOf("#");-1!==K&&(this.hash=a.substr(K),a=a.slice(0,K));var W=a.indexOf("?");if(-1!==W?(this.search=a.substr(W),this.query=a.substr(W+1),t&&(this.query=S.parse(this.query)),a=a.slice(0,W)):t&&(this.search="",this.query={}),a&&(this.pathname=a),x[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var D=this.pathname||"",V=this.search||"";this.path=D+V}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(i=S.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+o+r+s+n},n.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(c.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var f=a[u];"protocol"!==f&&(r[f]=e[f])}return x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!x[e.protocol]){for(var l=Object.keys(e),p=0;p<l.length;p++){var h=l[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||w[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=g||v||r.host&&e.pathname,_=b,S=r.pathname&&r.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],E=r.protocol&&!x[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(""===d[0]||""===S[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=e.search,r.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(E){r.hostname=r.host=S.shift();var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return r.search=e.search,r.query=e.query,c.isNull(r.pathname)&&c.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=S.slice(-1)[0],j=(r.host||e.host||S.length>1)&&("."===O||".."===O)||""===O,I=0,P=S.length;P>=0;P--)O=S[P],"."===O?S.splice(P,1):".."===O?(S.splice(P,1),I++):I&&(S.splice(P,1),I--);if(!b&&!_)for(;I--;I)S.unshift("..");!b||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),j&&"/"!==S.join("/").substr(-1)&&S.push("");var A=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(E){r.hostname=r.host=A?"":S.length?S.shift():"";var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return b=b||r.host&&S.length,b&&!A&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),c.isNull(r.pathname)&&c.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";function n(e,t){var r,n;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",r=t.port,n=t.hostname,o.createConnection(r,n)}var o=r(340);e.exports=n},function(e,t,r){"use strict";(function(t,n){function o(){var e=new p;return e._write=function(e,t,r){c.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){c.close({success:function(){e()}})},e}function i(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function s(e,t){var r="wxs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function a(){c.onOpen(function(){l.setReadable(f),l.setWritable(f),l.emit("connect")}),c.onMessage(function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):t.from(r,"utf8"),f.push(r)}),c.onClose(function(){l.end(),l.destroy()}),c.onError(function(e){l.destroy(new Error(e.errMsg))})}function u(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";i(t);var u=s(t,e);c=wx.connectSocket({url:u,protocols:r}),f=o(),l=h.obj(),l._destroy=function(e,t){c.close({success:function(){t&&t(e)}})};var p=l.destroy;return l.destroy=function(){l.destroy=p;var e=this;n.nextTick(function(){c.close({fail:function(){e._destroy(new Error)}})})}.bind(l),a(),l}var c,f,l,p=r(23).Transform,h=r(75);e.exports=u}).call(t,r(31).Buffer,r(1))},function(e,t,r){"use strict";(function(t){function n(){var e=new l;return e._write=function(e,t,r){u.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){u.closeSocket({success:function(){e()}})},e}function o(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function i(e,t){var r="alis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function s(){d||(d=!0,u.onSocketOpen(function(){f.setReadable(c),f.setWritable(c),f.emit("connect")}),u.onSocketMessage(function(e){if("string"==typeof e.data){var r=h.toByteArray(e.data),n=t.from(r);c.push(n)}else{var o=new FileReader;o.addEventListener("load",function(){var e=o.result;e=e instanceof ArrayBuffer?t.from(e):t.from(e,"utf8"),c.push(e)}),o.readAsArrayBuffer(e.data)}}),u.onSocketClose(function(){f.end(),f.destroy()}),u.onSocketError(function(e){f.destroy(e)}))}function a(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";o(t);var a=i(t,e);return u=t.my,u.connectSocket({url:a,protocols:r}),c=n(),f=p.obj(),s(),f}var u,c,f,l=r(23).Transform,p=r(75),h=r(116),d=!1;e.exports=a}).call(t,r(31).Buffer)},function(e,t,r){"use strict";(function(t){function n(e,t){var r=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function o(e){e.hostname||(e.hostname="localhost"),e.port||("wss"===e.protocol?e.port=443:e.port=80),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={}),l||"wss"!==e.protocol||f.forEach(function(t){e.hasOwnProperty(t)&&!e.wsOptions.hasOwnProperty(t)&&(e.wsOptions[t]=e[t])})}function i(e,t){var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";o(t);var i=n(t,e);return u(i,[r],t.wsOptions)}function s(e,t){return i(e,t)}function a(e,t){if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var r=c.parse(document.URL);t.hostname=r.hostname,t.port||(t.port=r.port)}return i(e,t)}var u=r(346),c=r(131),f=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],l="browser"===t.title;e.exports=l?a:s}).call(t,r(1))},function(e,t){e.exports={messages:{base:"flespi/message/",children:{channels:{methods:[{name:"subscribe",pattern:"gw/channels/{channel_id}/{ident}",params:["channel_id","ident"]},{name:"unsubscribe",pattern:"gw/channels/{channel_id}/{ident}",params:["channel_id","ident"]}]},devices:{methods:[{name:"subscribe",pattern:"gw/devices/{device_id}/#",params:["device_id"]},{name:"unsubscribe",pattern:"gw/devices/{device_id}/#",params:["device_id"]}]},abques:{methods:[{name:"subscribe",pattern:"storage/abques/{abque_id}/{name}",params:["abque_id","name"]},{name:"unsubscribe",pattern:"storage/abques/{abque_id}/{name}",params:["abque_id","name"]}]},sms:{methods:[{name:"subscribe",pattern:"gw/modems/{modem_id}/{phone}",params:["modem_id","phone"]},{name:"unsubscribe",pattern:"gw/modems/{modem_id}/{phone}",params:["modem_id","phone"]}]}}},logs:{base:"flespi/log/",methods:[{name:"subscribe",pattern:"{api}/{origin}/{event_type}",params:["api","origin","event_type"]},{name:"unsubscribe",pattern:"{api}/{origin}/{event_type}",params:["api","origin","event_type"]}]},state:{base:"flespi/state/",methods:[{name:"subscribe",pattern:"{api}/{origin}/{id}",params:["api","origin","id"]},{name:"unsubscribe",pattern:"{api}/{origin}/{id}",params:["api","origin","id"]}],children:{properties:{methods:[{name:"subscribe",pattern:"{api}/{origin}/{id}/{property}",params:["api","origin","id","property"]},{name:"unsubscribe",pattern:"{api}/{origin}/{id}/{property}",params:["api","origin","id","property"]}]},devices:{children:{telemetry:{methods:[{name:"subscribe",pattern:"gw/devices/{id}/telemetry/{parameter}",params:["id","parameter"]},{name:"unsubscribe",pattern:"gw/devices/{id}/telemetry/{parameter}",params:["id","parameter"]}]},settings:{methods:[{name:"subscribe",pattern:"gw/devices/{id}/settings/{name}",params:["id","name"]},{name:"unsubscribe",pattern:"gw/devices/{id}/settings/{name}",params:["id","name"]}]}}}}},intervals:{base:"flespi/interval/",methods:[{name:"subscribe",pattern:"gw/calcs/{calc_id}/devices/{device_id}/{event}",params:["calc_id","device_id","event"]},{name:"unsubscribe",pattern:"gw/calcs/{calc_id}/devices/{device_id}/{event}",params:["calc_id","device_id","event"]}]}}},function(e,t){e.exports={devices:{api:"gw",origin:"devices/+"},streams:{api:"gw",origin:"streams/+",children:{subscriptions:{api:"gw",origin:"streams/+/subscriptions/+"}}},channels:{api:"gw",origin:"channels/+"},abques:{api:"storage",origin:"abques/+"},containers:{api:"storage",origin:"containers/+"},cdns:{api:"storage",origin:"cdns/+"},modems:{api:"gw",origin:"modems/+"},customer:{children:{tokens:{api:"platform",origin:"customer/tokens/+"}}},mqtt:{children:{sessions:{api:"mqtt",origin:"sessions/+"}}}}},function(e,t,r){e.exports=r(139)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),i=n(o),s=r(149),a=n(s),u=r(150),c=n(u),f=r(154),l=n(f),p=r(243),h=n(p),d=r(355),m=n(d),y=r(367),v=n(y),g=r(368),b=n(g),_=r(369),w=n(_),x=r(57),S=n(x),E=new Function("try {return this===window;}catch(e){ return false;}"),k=function(){function e(t){(0,a.default)(this,e);var r={httpConfig:{server:"https://flespi.io"},socketConfig:{server:E?"wss://mqtt.flespi.io":"mqtt://mqtt.flespi.io:8883"},token:""};this.config=(0,S.default)(r,t),this.config.token&&-1===this.config.token.indexOf("FlespiToken")&&(this.config.token="FlespiToken "+this.config.token),this.socket=h.default,this.http=l.default,this.http.init(this.token,this.httpConfig),this.socket.init(this.token,this.socketConfig);var n=(0,m.default)(this.http);(0,i.default)(this,n),(0,i.default)(this,(0,v.default)(this.socket)),this.pool=(0,b.default)(this.http,this.socket),(0,i.default)(this,(0,w.default)(this.http,this.socket))}return(0,c.default)(e,[{key:"token",get:function(){return this.config.token},set:function(e){"string"==typeof e?-1===e.indexOf("FlespiToken")?this.config.token="FlespiToken "+e:this.config.token=e:this.config.token="",this.socket.update("token",this.token),this.http.update("token",this.token)}},{key:"httpConfig",get:function(){return this.config.httpConfig},set:function(e){this.config.httpConfig=e,this.http.update("config",e)}},{key:"socketConfig",get:function(){return this.config.socketConfig},set:function(e){this.config.socketConfig=e,this.socket.update("config",e)}}]),e}();t.default=k},function(e,t,r){r(141),e.exports=r(0).Object.assign},function(e,t,r){var n=r(9);n(n.S+n.F,"Object",{assign:r(144)})},function(e,t,r){e.exports=!r(20)&&!r(34)(function(){return 7!=Object.defineProperty(r(49)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(26);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";var n=r(36),o=r(148),i=r(80),s=r(39),a=r(76),u=Object.assign;e.exports=!u||r(34)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=s(e),u=arguments.length,c=1,f=o.f,l=i.f;u>c;)for(var p,h=a(arguments[c++]),d=f?n(h).concat(f(h)):n(h),m=d.length,y=0;m>y;)l.call(h,p=d[y++])&&(r[p]=h[p]);return r}:u},function(e,t,r){var n=r(35),o=r(37),i=r(146)(!1),s=r(54)("IE_PROTO");e.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(37),o=r(52),i=r(147);e.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),f=i(s,c);if(e&&r!=r){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===r)return e||f||0;return!e&&-1}}},function(e,t,r){var n=r(53),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(151),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(152),__esModule:!0}},function(e,t,r){r(153);var n=r(0).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(9);n(n.S+n.F*!r(20),"Object",{defineProperty:r(19).f})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e="";return d.server&&(e=d.server),d.port&&(e+=":"+d.port),e}function i(e){var t={baseURL:o(),headers:y};return(0,l.default)((0,h.default)({},t,e))}Object.defineProperty(t,"__esModule",{value:!0});var s=r(17),a=n(s),u=r(13),c=n(u),f=r(158),l=n(f),p=r(57),h=n(p),d={},m=["get","post","put","delete"],y={Authorization:d.token};i.init=function(e,t){(0,c.default)(d).length||(d=t,d.token=e,y.Authorization=d.token)},i.update=function(e,t){switch(e){case"token":d.token=t,y.Authorization=d.token;break;case"config":d=(0,a.default)(d,t)}},m.forEach(function(e){i[e]="get"===e||"delete"===e?function(t,r){return i((0,a.default)({},r,{url:t,method:e}))}:function(t,r,n){return i((0,a.default)({},n,{url:t,method:e,data:r}))}}),i.external=l.default,t.default=i},function(e,t,r){r(156),e.exports=r(0).Object.keys},function(e,t,r){var n=r(39),o=r(36);r(157)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){var n=r(9),o=r(0),i=r(34);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},function(e,t,r){e.exports=r(159)},function(e,t,r){"use strict";function n(e){var t=new s(e),r=i(s.prototype.request,t);return o.extend(r,s.prototype,t),o.extend(r,t),r}var o=r(3),i=r(81),s=r(161),a=r(56),u=n(a);u.Axios=s,u.create=function(e){return n(o.merge(a,e))},u.Cancel=r(85),u.CancelToken=r(175),u.isCancel=r(84),u.all=function(e){return Promise.all(e)},u.spread=r(176),e.exports=u,e.exports.default=u},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||n(e)||!!e._isBuffer)}},function(e,t,r){"use strict";function n(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var o=r(56),i=r(3),s=r(170),a=r(171);n.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){n.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=n},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(83);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=r(3);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(o.isURLSearchParams(t))i=t.toString();else{var s=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(3),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(3);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(r){var o=n.isString(r)?e(r):r;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,r){"use strict";function n(){this.message="String contains an invalid character"}function o(e){for(var t,r,o=String(e),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;t=t<<8|r}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=o},function(e,t,r){"use strict";var n=r(3);e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,r){"use strict";function n(){this.handlers=[]}var o=r(3);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){"use strict";function n(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=r(3),i=r(172),s=r(84),a=r(56),u=r(173),c=r(174);e.exports=function(e){return n(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return n(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(n(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new o(e),t(r.reason))})}var o=r(85);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){function n(e,t,r,l,p){e!==t&&s(t,function(s,c){if(p||(p=new o),u(s))a(e,t,c,r,n,l,p);else{var h=l?l(f(e,c),s,c+"",e,t,p):void 0;void 0===h&&(h=s),i(e,c,h)}},c)}var o=r(178),i=r(88),s=r(209),a=r(211),u=r(14),c=r(97),f=r(96);e.exports=n},function(e,t,r){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=r(40),i=r(184),s=r(185),a=r(186),u=r(187),c=r(188);n.prototype.clear=i,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=u,n.prototype.set=c,e.exports=n},function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return!(r<0)&&(r==t.length-1?t.pop():s.call(t,r,1),--this.size,!0)}var o=r(41),i=Array.prototype,s=i.splice;e.exports=n},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}var o=r(41);e.exports=n},function(e,t,r){function n(e){return o(this.__data__,e)>-1}var o=r(41);e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var o=r(41);e.exports=n},function(e,t,r){function n(){this.__data__=new o,this.size=0}var o=r(40);e.exports=n},function(e,t){function r(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<a-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(n)}return r.set(e,t),this.size=r.size,this}var o=r(40),i=r(86),s=r(196),a=200;e.exports=n},function(e,t,r){function n(e){return!(!s(e)||i(e))&&(o(e)?d:c).test(a(e))}var o=r(59),i=r(192),s=r(14),a=r(194),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,h=l.hasOwnProperty,d=RegExp("^"+p.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){var t=s.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[u]=r:delete e[u]),o}var o=r(60),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,u=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t,r){function n(e){return!!i&&i in e}var o=r(193),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t,r){var n=r(21),o=n["__core-js_shared__"];e.exports=o},function(e,t){function r(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,o=n.toString;e.exports=r},function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(197),i=r(204),s=r(206),a=r(207),u=r(208);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t,r){function n(){this.size=0,this.__data__={hash:new o,map:new(s||i),string:new o}}var o=r(198),i=r(40),s=r(86);e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(199),i=r(200),s=r(201),a=r(202),u=r(203);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t,r){function n(){this.__data__=o?o(null):{},this.size=0}var o=r(43);e.exports=n},function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},function(e,t,r){function n(e){var t=this.__data__;if(o){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}var o=r(43),i="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=this.__data__;return o?void 0!==t[e]:s.call(t,e)}var o=r(43),i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?i:t,this}var o=r(43),i="__lodash_hash_undefined__";e.exports=n},function(e,t,r){function n(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=r(44);e.exports=n},function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},function(e,t,r){function n(e){return o(this,e).get(e)}var o=r(44);e.exports=n},function(e,t,r){function n(e){return o(this,e).has(e)}var o=r(44);e.exports=n},function(e,t,r){function n(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var o=r(44);e.exports=n},function(e,t,r){var n=r(210),o=n();e.exports=o},function(e,t){function r(e){return function(t,r,n){for(var o=-1,i=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===r(i[u],u,i))break}return t}}e.exports=r},function(e,t,r){function n(e,t,r,n,b,_,w){var x=v(e,r),S=v(t,r),E=w.get(S);if(E)return void o(e,r,E);var k=_?_(x,S,r+"",e,t,w):void 0,O=void 0===k;if(O){var j=f(S),I=!j&&p(S),P=!j&&!I&&y(S);k=S,j||I||P?f(x)?k=x:l(x)?k=a(x):I?(O=!1,k=i(S,!0)):P?(O=!1,k=s(S,!0)):k=[]:m(S)||c(S)?(k=x,c(x)?k=g(x):d(x)&&!h(x)||(k=u(S))):O=!1}O&&(w.set(S,k),b(k,S,n,_,w),w.delete(S)),o(e,r,k)}var o=r(88),i=r(212),s=r(213),a=r(216),u=r(217),c=r(92),f=r(62),l=r(221),p=r(94),h=r(59),d=r(14),m=r(223),y=r(95),v=r(96),g=r(227);e.exports=n},function(e,t,r){(function(e){function n(e,t){if(t)return e.slice();var r=e.length,n=c?c(r):new e.constructor(r);return e.copy(n),n}var o=r(21),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i,u=a?o.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=n}).call(t,r(45)(e))},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var o=r(214);e.exports=n},function(e,t,r){function n(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=r(215);e.exports=n},function(e,t,r){var n=r(21),o=n.Uint8Array;e.exports=o},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t,r){function n(e){return"function"!=typeof e.constructor||s(e)?{}:o(i(e))}var o=r(218),i=r(90),s=r(91);e.exports=n},function(e,t,r){var n=r(14),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t,r){function n(e){return i(e)&&o(e)==s}var o=r(27),i=r(22),s="[object Arguments]";e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(63),i=r(22);e.exports=n},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){function n(e){if(!s(e)||o(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&f.call(r)==p}var o=r(27),i=r(90),s=r(22),a="[object Object]",u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,p=f.call(Object);e.exports=n},function(e,t,r){function n(e){return s(e)&&i(e.length)&&!!a[o(e)]}var o=r(27),i=r(93),s=r(22),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=n},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(87),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s&&n.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u}).call(t,r(45)(e))},function(e,t,r){function n(e){return o(e,i(e))}var o=r(228),i=r(97);e.exports=n},function(e,t,r){function n(e,t,r,n){var s=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var c=t[a],f=n?n(r[c],e[c],c,r,e):void 0;void 0===f&&(f=e[c]),s?i(r,c,f):o(r,c,f)}return r}var o=r(229),i=r(61);e.exports=n},function(e,t,r){function n(e,t,r){var n=e[t];a.call(e,t)&&i(n,r)&&(void 0!==r||t in e)||o(e,t,r)}var o=r(61),i=r(42),s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=s(e),n=!r&&i(e),f=!r&&!n&&a(e),p=!r&&!n&&!f&&c(e),h=r||n||f||p,d=h?o(e.length,String):[],m=d.length;for(var y in e)!t&&!l.call(e,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||d.push(y);return d}var o=r(231),i=r(92),s=r(62),a=r(94),u=r(98),c=r(95),f=Object.prototype,l=f.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e){if(!o(e))return s(e);var t=i(e),r=[];for(var n in e)("constructor"!=n||!t&&u.call(e,n))&&r.push(n);return r}var o=r(14),i=r(91),s=r(233),a=Object.prototype,u=a.hasOwnProperty;e.exports=n},function(e,t){function r(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=r},function(e,t,r){function n(e){return o(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var u=r[n];u&&e(t,u,n,s)}return t})}var o=r(235),i=r(242);e.exports=n},function(e,t,r){function n(e,t){return s(i(e,t,o),e+"")}var o=r(99),i=r(236),s=r(238);e.exports=n},function(e,t,r){function n(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=i(n.length-t,0),u=Array(a);++s<a;)u[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(u),o(e,this,c)}}var o=r(237),i=Math.max;e.exports=n},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){var n=r(239),o=r(241),i=o(n);e.exports=i},function(e,t,r){var n=r(240),o=r(89),i=r(99),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=s},function(e,t){function r(e){return function(){return e}}e.exports=r},function(e,t){function r(e){var t=0,r=0;return function(){var s=i(),a=o-(s-r);if(r=s,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,o=16,i=Date.now;e.exports=r},function(e,t,r){function n(e,t,r){if(!a(r))return!1;var n=typeof t;return!!("number"==n?i(r)&&s(t,r.length):"string"==n&&t in r)&&o(r[t],e)}var o=r(42),i=r(63),s=r(98),a=r(14);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(r,n,o){var i=o.properties&&o.properties.userProperties&&o.properties.userProperties.timestamp?parseFloat(o.properties.userProperties.timestamp):0,s=o.properties&&o.properties.userProperties&&o.properties.userProperties.seqno?parseFloat(o.properties.userProperties.seqno):0;P[e]||(P[e]={}),P[e][n]||(P[e][n]={timestamp:0,seqno:0}),(i>P[e][n].timestamp||i===P[e][n].timestamp&&s>=P[e][n].seqno)&&(t(r,n,o),P[e][n]={timestamp:i,seqno:s})}}function i(e){var t=[];if(e instanceof Array)e.forEach(function(e){var r=(0,x.default)();O[r]=e,t.push(r)});else{var r=(0,x.default)();O[r]=e,t=r}return y(),t}Object.defineProperty(t,"__esModule",{value:!0});var s=r(64),a=n(s),u=r(68),c=n(u),f=r(13),l=n(f),p=r(17),h=n(p),d=r(69),m=n(d),y=function(){var e=(0,m.default)(c.default.mark(function e(){var t,r,n,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=3;break}return e.next=3,k.end(!0);case 3:if(j.token&&j.server){e.next=5;break}return e.abrupt("return",!1);case 5:t=j.server,j.port&&(t+=":"+j.port),r={reschedulePings:!0,keepalive:60,reconnectPeriod:5e3,connectTimeout:3e4,resubscribe:!0},n=(0,h.default)(r,j.mqttSettings),n.username=j.token,n.clientId=j.clientId||"flespi-io-js_"+Math.random().toString(16).substr(2,8),k=g.default.connect(t,n),k.on("connect",function(e){e.sessionPresent||n.resubscribe||(O={}),A=j.mqttSettings&&j.mqttSettings.protocolVersion?j.mqttSettings.protocolVersion:4,I.connect&&I.connect.forEach(function(t){t&&t(e)})}),k.on("error",function(e){2===e.code&&i.close(!0),I.error&&I.error.forEach(function(t){t&&t(e)})}),k.on("close",function(){j.mqttSettings&&(!j.mqttSettings||void 0!==j.mqttSettings.clean&&!0!==j.mqttSettings.clean)||(P={}),I.close&&I.close.forEach(function(e){e&&e()})}),k.on("disconnect",function(e){I.disconnect&&I.disconnect.forEach(function(t){t&&t(e)})}),o=function(e,t,r){var n=e.split("/");(0,l.default)(O).filter(function(e){var t=O[e].name.split("/");return"$share"===t[0]&&t.splice(0,2),(t.length===n.length||"#"===t[t.length-1])&&t.reduce(function(e,t,r){return"#"===t||"+"===t?e&&!0:e&&t===n[r]},!0)}).forEach(function(n){try{O[n].handler(t,e,r)}catch(e){console.log(e)}})},s=function(e,t,r){var n=r.properties&&r.properties.subscriptionIdentifier;"number"==typeof n&&(n=[n]),n.forEach(function(n){try{O[n].handler(t,e,r)}catch(e){console.log(e)}})},k.on("message",5===A?s:o),k.on("reconnect",function(){I.reconnect&&I.reconnect.forEach(function(e){e&&e()})}),k.on("offline",function(){I.offline&&I.offline.forEach(function(e){e&&e()})}),k.on("end",function(){I.end&&I.end.forEach(function(e){e&&e()})});case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v=r(269),g=n(v),b=r(349),_=n(b),w=r(350),x=n(w),S=r(57),E=n(S),k=null,O={},j={},I={},P={},A=0;i.init=function(){function e(e,r){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(t,r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.default)(j).length||(j=(0,h.default)(r,{token:t})),k){e.next=4;break}return e.next=4,y();case 4:case"end":return e.stop()}},e,this)}));return e}(),i.update=function(){function e(e,r){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(t,r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="token"===e.t0?3:"config"===e.t0?17:26;break;case 3:if(j.token=r,!k){e.next=14;break}if(!r){e.next=10;break}return e.next=8,y();case 8:e.next=12;break;case 10:return e.next=12,i.close(!0);case 12:e.next=16;break;case 14:return e.next=16,y();case 16:return e.abrupt("break",26);case 17:if(j=(0,h.default)(j,r),!k){e.next=23;break}return e.next=21,y();case 21:e.next=25;break;case 23:return e.next=25,y();case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}},e,this)}));return e}(),i.hasClient=function(){return!!k},i.connected=function(){return!!k&&k._client.connected},i.subscribe=function(){function e(e){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(t){var r,n=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=j.mqttSettings&&5===j.mqttSettings.protocolVersion,Array.isArray(t)||(t=[t]),e.abrupt("return",t.reduce(function(){var e=(0,m.default)(c.default.mark(function e(t,i){var s,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Number((0,x.default)()),r&&i.options&&i.options.filterByTimestamp&&(i.handler=o(i.name,i.handler)),r&&(i.options||(i.options={}),i.options=(0,E.default)(i.options,{properties:{subscriptionIdentifier:s}})),O[s]=i,!k){e.next=17;break}return e.prev=5,e.next=8,k.subscribe(i.name,i.options);case 8:a=e.sent,t[s]=a,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t[s]=e.t0;case 15:e.next=18;break;case 17:t[s]=new Error("Client don`t created");case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,n,[[5,12]])}));return function(t,r){return e.apply(this,arguments)}}(),{}));case 3:case"end":return e.stop()}},e,this)}));return e}(),i.unsubscribe=function(){function e(e,r,n){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(t,r,n){var o,i,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,l.default)(O).reduce(function(e,r,n){return("string"==typeof t&&O[r].name===t||t instanceof Array&&t.includes(O[r].name))&&e.push(r),e},[]),i=o,r&&(i=o.filter(function(e){return e===r||r instanceof Array&&r.includes(e)})),s=i.length===o.length,i.forEach(function(e){var t=O[e];t.options&&t.options.filterByTimestamp&&P[t.name]&&delete P[t.name],delete O[e]}),!s||k._client.disconnecting){e.next=11;break}return e.next=8,k.unsubscribe(t,n);case 8:return e.abrupt("return",e.sent);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this)}));return e}(),i.unsubscribeAll=function(){function e(e){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(t){var r,n,o,i,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:P={},r=!0,n=!1,o=void 0,e.prev=4,i=(0,a.default)((0,l.default)(O));case 6:if(r=(s=i.next()).done){e.next=13;break}return u=s.value,e.next=10,k.unsubscribe(O[u].name,t);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),n=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!r&&i.return&&i.return();case 22:if(e.prev=22,!n){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return e}(),i.publish=(0,m.default)(c.default.mark(function e(){var t,r=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=6;break}return e.next=3,(t=k).publish.apply(t,r);case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Client is empty");case 7:case"end":return e.stop()}},e,this)})),i.close=function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(c.default.mark(function e(){var t,r=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=3;break}return O={},e.abrupt("return",(t=k).end.apply(t,r).then(function(){k=null}));case 3:case"end":return e.stop()}},e,this)}));return e}(),i.end=i.close,i.on=function(e,t){return I[e]||(I[e]=[]),I[e].push(t),I[e].length-1},i.off=function(e,t){if(void 0!==t){(Array.isArray(t)?t:[t]).forEach(function(t){I[e][t]=void 0})}else I[e]&&(I[e]=void 0)},t.default=(0,_.default)(i)},function(e,t,r){r(100),r(66),e.exports=r(254)},function(e,t,r){"use strict";var n=r(246),o=r(247),i=r(28),s=r(37);e.exports=r(101)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=r(250),o=r(50),i=r(65),s={};r(18)(s,r(4)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(11),o=r(251),i=r(79),s=r(54)("IE_PROTO"),a=function(){},u=function(){var e,t=r(49)("iframe"),n=i.length;for(t.style.display="none",r(102).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[i[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[s]=e):r=u(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(19),o=r(11),i=r(36);e.exports=r(20)?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},function(e,t,r){var n=r(35),o=r(39),i=r(54)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){var n=r(53),o=r(51);e.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}}},function(e,t,r){var n=r(11),o=r(67);e.exports=r(0).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(256),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new h(n||[]);return s._invoke=c(e,r,a),s}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(r,o,i,s){var a=n(e[r],e,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},s)}s(a.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function c(e,t,r){var o=k;return function(i,s){if(o===j)throw new Error("Generator is already running");if(o===I){if("throw"===i)throw s;return m()}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var u=f(a,r);if(u){if(u===P)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===k)throw o=I,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=j;var c=n(e,t,r);if("normal"===c.type){if(o=r.done?I:O,c.arg===P)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=I,r.method="throw",r.arg=c.arg)}}}function f(e,t){var r=e.iterator[t.method];if(r===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,f(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,P;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,P):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function d(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(g.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=y,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:y,done:!0}}var y,v=Object.prototype,g=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",S="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(S&&(e.exports=E));E=t.regeneratorRuntime=S?e.exports:{},E.wrap=r;var k="suspendedStart",O="suspendedYield",j="executing",I="completed",P={},A={};A[_]=function(){return this};var T=Object.getPrototypeOf,C=T&&T(T(d([])));C&&C!==v&&g.call(C,_)&&(A=C);var M=s.prototype=o.prototype=Object.create(A);i.prototype=M.constructor=s,s.constructor=i,s[x]=i.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(M),e},E.awrap=function(e){return{__await:e}},a(u.prototype),u.prototype[w]=function(){return this},E.AsyncIterator=u,E.async=function(e,t,n,o){var i=new u(r(e,t,n,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(M),M[x]="Generator",M[_]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},E.values=d,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=y),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=g.call(o,"catchLoc"),a=g.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,P):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;p(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=y),P}}}(function(){return this}()||Function("return this")())},function(e,t,r){r(258),r(66),r(100),r(259),r(267),r(268),e.exports=r(0).Promise},function(e,t){},function(e,t,r){"use strict";var n,o,i,s,a=r(55),u=r(2),c=r(25),f=r(103),l=r(9),p=r(26),h=r(33),d=r(260),m=r(261),y=r(107),v=r(108).set,g=r(263)(),b=r(70),_=r(109),w=r(264),x=r(110),S=u.TypeError,E=u.process,k=E&&E.versions,O=k&&k.v8||"",j=u.Promise,I="process"==f(E),P=function(){},A=o=b.f,T=!!function(){try{var e=j.resolve(1),t=(e.constructor={})[r(4)("species")]=function(e){e(P,P)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),C=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,o=1==e._s,i=0;r.length>i;)!function(t){var r,i,s,a=o?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{a?(o||(2==e._h&&L(e),e._h=1),!0===a?r=n:(f&&f.enter(),r=a(n),f&&(f.exit(),s=!0)),r===t.promise?c(S("Promise-chain cycle")):(i=C(r))?i.call(r,u,c):u(r)):c(n)}catch(e){f&&!s&&f.exit(),c(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){v.call(u,function(){var t,r,n,o=e._v,i=q(e);if(i&&(t=_(function(){I?E.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=I||q(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},q=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(u,function(){var t;I?E.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=C(e))?g(function(){var n={_w:r,_d:!1};try{t.call(e,c(N,n,1),c(B,n,1))}catch(e){B.call(n,e)}}):(r._v=e,r._s=1,M(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};T||(j=function(e){d(this,j,"Promise","_h"),h(e),n.call(this);try{e(c(N,this,1),c(B,this,1))}catch(e){B.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(265)(j.prototype,{then:function(e,t){var r=A(y(this,j));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(N,e,1),this.reject=c(B,e,1)},b.f=A=function(e){return e===j||e===s?new i(e):o(e)}),l(l.G+l.W+l.F*!T,{Promise:j}),r(65)(j,"Promise"),r(266)("Promise"),s=r(0).Promise,l(l.S+l.F*!T,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!T),"Promise",{resolve:function(e){return x(a&&this===s?j:this,e)}}),l(l.S+l.F*!(T&&r(111)(function(e){j.all(e).catch(P)})),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,o=r.reject,i=_(function(){var r=[],i=0,s=1;m(e,!1,function(e){var a=i++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--s||n(r))},o)}),--s||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,o=_(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(25),o=r(105),i=r(106),s=r(11),a=r(52),u=r(67),c={},f={},t=e.exports=function(e,t,r,l,p){var h,d,m,y,v=p?function(){return e}:u(e),g=n(r,l,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(h=a(e.length);h>b;b++)if((y=t?g(s(d=e[b])[0],d[1]):g(e[b]))===c||y===f)return y}else for(m=v.call(e);!(d=m.next()).done;)if((y=o(m,g,d.value,t))===c||y===f)return y};t.BREAK=c,t.RETURN=f},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(2),o=r(108).set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r(38)(s);e.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);r=function(){f.then(c)}}else r=function(){o.call(n,c)};else{var l=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),r=function(){p.data=l=!l}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){var n=r(2),o=n.navigator;e.exports=o&&o.userAgent||""},function(e,t,r){var n=r(18);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},function(e,t,r){"use strict";var n=r(2),o=r(0),i=r(19),s=r(20),a=r(4)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(9),o=r(0),i=r(2),s=r(107),a=r(110);n(n.P+n.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then(function(){return r})}:e,r?function(r){return a(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(9),o=r(70),i=r(109);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";function n(e,t){return new o(f.connect(e,t))}function o(e){this._client=e}function i(e){o.prototype[e]=function(){var t=this._client;return t[e].apply(t,arguments)}}function s(e){o.prototype[e]=function(){var t=this._client,r=[],n=arguments.length,o=0;for(o;o<n;o++)r.push(arguments[o]);return new c.default(function(n,o){r.push(a(n,o)),t[e].apply(t,r)})}}function a(e,t){return function(r,n){r?t(r):e(n)}}var u=r(104),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=r(270),l=(r(348),f.MqttClient.prototype,["publish","subscribe","unsubscribe","unsubscribe","end"]),p=["emit","addListener","on","once","removeListener","removeAllListeners","setMaxListeners","getMaxListeners","listeners","listenerCount"];e.exports={connect:n,AsyncClient:o},o.prototype={set handleMessage(e){this._client.handleMessage=e},get handleMessage(){return this._client.handleMessage}},l.forEach(s),p.forEach(i)},function(e,t,r){"use strict";(function(t){function n(e){var t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function o(e,t){function r(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),c[t.protocol](e,t)}if("object"!=typeof e||t||(t=e,e=null),t=t||{},e){var o=a.parse(e,!0);if(null!=o.port&&(o.port=Number(o.port)),t=u(o,t),null===t.protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(n(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!c[t.protocol]){var s=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(e,t){return(!s||t%2!=0)&&"function"==typeof c[e]})[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return t.protocol&&(t.defaultProtocol=t.protocol),new i(r,t)}var i=r(271),s=r(112),a=r(131),u=r(71),c={};"browser"!==t.title?(c.mqtt=r(132),c.tcp=r(132),c.ssl=r(74),c.tls=r(74),c.mqtts=r(74)):(c.wx=r(133),c.wxs=r(133),c.ali=r(134),c.alis=r(134)),c.ws=r(135),c.wss=r(135),e.exports=o,e.exports.connect=o,e.exports.MqttClient=i,e.exports.Store=s}).call(t,r(1))},function(e,t,r){"use strict";(function(t,n){function o(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function i(e,t,r){e.emit("packetsend",t),!h.writeToStream(t,e.stream,e.options)&&r?e.stream.once("drain",r):r&&r()}function s(e){e&&Object.keys(e).forEach(function(t){"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})}function a(e){e&&Object.keys(e).forEach(function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})}function u(e,t,r,n){e.outgoingStore.put(t,function(o){if(o)return r&&r(o);n(),i(e,t,r)})}function c(){}function f(e,t){var r,n=this;if(!(this instanceof f))return new f(e,t);this.options=t||{};for(r in _)void 0===this.options[r]?this.options[r]=_[r]:this.options[r]=t[r];this.options.clientId="string"==typeof t.clientId?t.clientId:o(),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new p,this.incomingStore=t.incomingStore||new p,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",function(){function e(){var r=t.shift(),o=null;r&&(o=r.packet,n._sendPacket(o,function(t){r.cb&&r.cb(t),e()}))}var t=this.queue;e()}),this.on("close",function(){null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null)}),this.on("close",this._setupReconnect),l.EventEmitter.call(this),this._setupStream()}var l=r(29),p=r(112),h=r(324),d=r(23).Writable,m=r(7),y=r(333),v=r(334),g=r(71),b=t.setImmediate||function(e){n.nextTick(e)},_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};m(f,l.EventEmitter),f.prototype._setupStream=function(){function e(){if(l.length)n.nextTick(t);else{var e=f;f=null,e()}}function t(){var t=l.shift();if(t)o._handlePacket(t,e);else{var r=f;f=null,r&&r()}}var r,o=this,s=new d,u=h.parser(this.options),f=null,l=[];if(this._clearReconnect(),this.stream=this.streamBuilder(this),u.on("packet",function(e){l.push(e)}),s._write=function(e,r,n){f=n,u.parse(e),t()},this.stream.pipe(s),this.stream.on("error",c),this.stream.on("close",function(){a(o.outgoing),o.emit("close")}),r=Object.create(this.options),r.cmd="connect",i(this,r),u.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){i(this,g({cmd:"auth",reasonCode:0},this.options.authPacket))}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){o._cleanUp(!0)},this.options.connectTimeout)},f.prototype._handlePacket=function(e,t){var r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},f.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},f.prototype.publish=function(e,t,r,n){var o,i=this.options;if("function"==typeof r&&(n=r,r=null),r=g({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;switch(o={cmd:"publish",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:this._nextId(),dup:r.dup},5===i.protocolVersion&&(o.properties=r.properties,(!i.properties&&o.properties&&o.properties.topicAlias||r.properties&&i.properties&&(r.properties.topicAlias&&i.properties.topicAliasMaximum&&r.properties.topicAlias>i.properties.topicAliasMaximum||!i.properties.topicAliasMaximum&&r.properties.topicAlias))&&delete o.properties.topicAlias),r.qos){case 1:case 2:this.outgoing[o.messageId]={volatile:!1,cb:n||c},this._storeProcessing?(this._packetIdsDuringStoreProcessing[o.messageId]=!1,this._storePacket(o,void 0,r.cbStorePut)):this._sendPacket(o,void 0,r.cbStorePut);break;default:this._storeProcessing?this._storePacket(o,n,r.cbStorePut):this._sendPacket(o,n,r.cbStorePut)}return this},f.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),r=0;r<arguments.length;r++)t[r]=arguments[r];var n,o=[],i=t.shift(),s=i.resubscribe,a=t.pop()||c,u=t.pop(),f=this,l=this.options.protocolVersion;if(delete i.resubscribe,"string"==typeof i&&(i=[i]),"function"!=typeof a&&(u=a,a=c),null!==(n=v.validateTopics(i)))return b(a,new Error("Invalid topic "+n)),this;if(this._checkDisconnecting(a))return this;var p={qos:0};if(5===l&&(p.nl=!1,p.rap=!1,p.rh=0),u=g(p,u),Array.isArray(i)?i.forEach(function(e){if(!f._resubscribeTopics.hasOwnProperty(e)||f._resubscribeTopics[e].qos<u.qos||s){var t={topic:e,qos:u.qos};5===l&&(t.nl=u.nl,t.rap=u.rap,t.rh=u.rh,t.properties=u.properties),o.push(t)}}):Object.keys(i).forEach(function(e){if(!f._resubscribeTopics.hasOwnProperty(e)||f._resubscribeTopics[e].qos<i[e].qos||s){var t={topic:e,qos:i[e].qos};5===l&&(t.nl=i[e].nl,t.rap=i[e].rap,t.rh=i[e].rh,t.properties=u.properties),o.push(t)}}),e={cmd:"subscribe",subscriptions:o,qos:1,retain:!1,dup:!1,messageId:this._nextId()},u.properties&&(e.properties=u.properties),!o.length)return void a(null,[]);if(this.options.resubscribe){var h=[];o.forEach(function(e){if(f.options.reconnectPeriod>0){var t={qos:e.qos};5===l&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),f._resubscribeTopics[e.topic]=t,h.push(e.topic)}}),f.messageIdToTopic[e.messageId]=h}return this.outgoing[e.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var r=t.granted,n=0;n<r.length;n+=1)o[n].qos=r[n];a(e,o)}},this._sendPacket(e),this},f.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,r=new Array(arguments.length),n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r.shift(),i=r.pop()||c,s=r.pop();return"string"==typeof o&&(o=[o]),"function"!=typeof i&&(s=i,i=c),this._checkDisconnecting(i)?this:("string"==typeof o?e.unsubscriptions=[o]:"object"==typeof o&&o.length&&(e.unsubscriptions=o),this.options.resubscribe&&e.unsubscriptions.forEach(function(e){delete t._resubscribeTopics[e]}),"object"==typeof s&&s.properties&&(e.properties=s.properties),this.outgoing[e.messageId]={volatile:!0,cb:i},this._sendPacket(e),this)},f.prototype.end=function(){function e(){r.disconnected=!0,r.incomingStore.close(function(){r.outgoingStore.close(function(){i&&i.apply(null,arguments),r.emit("end")})}),r._deferredReconnect&&r._deferredReconnect()}function t(){r._cleanUp(n,b.bind(null,e),o)}var r=this,n=arguments[0],o=arguments[1],i=arguments[2];return null!=n&&"boolean"==typeof n||(i=o||c,o=n,n=!1,"object"!=typeof o&&(i=o,o=null,"function"!=typeof i&&(i=c))),"object"!=typeof o&&(i=o,o=null),i=i||c,this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!n&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,t,10)):t(),this)},f.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error("Message removed"))}),this},f.prototype.reconnect=function(e){var t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new p,t.outgoingStore=t.options.outgoingStore||new p,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},f.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},f.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod))},f.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},f.prototype._cleanUp=function(e,t){var r=arguments[2];if(t&&this.stream.on("close",t),e)0===this.options.reconnectPeriod&&this.options.clean&&s(this.outgoing),this.stream.destroy();else{var n=g({cmd:"disconnect"},r);this._sendPacket(n,b.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.stream.removeListener("close",t),t())},f.prototype._sendPacket=function(e,t,r){if(r=r||c,!this.connected)return void this._storePacket(e,t,r);switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void u(this,e,t,r);default:return void i(this,e,t)}switch(e.qos){case 2:case 1:u(this,e,t,r);break;case 0:default:i(this,e,t)}},f.prototype._storePacket=function(e,t,r){r=r||c,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoingStore.put(e,function(e){if(e)return t&&t(e);r()})):t&&t(new Error("No connection to broker"))},f.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=y(function(){e._checkPing()},1e3*this.options.keepalive))},f.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},f.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},f.prototype._handlePingresp=function(){this.pingResp=!0},f.prototype._handleConnack=function(e){var t=this.options,r=t.protocolVersion,n=5===r?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===n)this.reconnecting=!1,this._onConnect(e);else if(n>0){var o=new Error("Connection refused: "+w[n]);o.code=n,this.emit("error",o)}},f.prototype._handlePublish=function(e,t){t=void 0!==t?t:c;var r=e.topic.toString(),n=e.payload,o=e.qos,i=e.messageId,s=this,a=this.options,u=[0,16,128,131,135,144,145,151,153];switch(o){case 2:a.customHandleAcks(r,n,e,function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit("error",r):-1===u.indexOf(n)?s.emit("error",new Error("Wrong reason code for pubrec")):void(n?s._sendPacket({cmd:"pubrec",messageId:i,reasonCode:n},t):s.incomingStore.put(e,function(){s._sendPacket({cmd:"pubrec",messageId:i},t)}))});break;case 1:a.customHandleAcks(r,n,e,function(o,a){return o instanceof Error||(a=o,o=null),o?s.emit("error",o):-1===u.indexOf(a)?s.emit("error",new Error("Wrong reason code for puback")):(a||s.emit("message",r,n,e),void s.handleMessage(e,function(e){if(e)return t&&t(e);s._sendPacket({cmd:"puback",messageId:i,reasonCode:a},t)}))});break;case 0:this.emit("message",r,n,e),this.handleMessage(e,t)}},f.prototype.handleMessage=function(e,t){t()},f.prototype._handleAck=function(e){var t,r=e.messageId,n=e.cmd,o=null,i=this.outgoing[r]?this.outgoing[r].cb:null,s=this;if(i){switch(n){case"pubcomp":case"puback":var a=e.reasonCode;a&&a>0&&16!==a&&(t=new Error("Publish error: "+w[a]),t.code=a,i(t,e)),delete this.outgoing[r],this.outgoingStore.del(e,i);break;case"pubrec":o={cmd:"pubrel",qos:2,messageId:r};var u=e.reasonCode;u&&u>0&&16!==u?(t=new Error("Publish error: "+w[u]),t.code=u,i(t,e)):this._sendPacket(o);break;case"suback":delete this.outgoing[r];for(var c=0;c<e.granted.length;c++)if(0!=(128&e.granted[c])){var f=this.messageIdToTopic[r];f&&f.forEach(function(e){delete s._resubscribeTopics[e]})}i(null,e);break;case"unsuback":delete this.outgoing[r],i(null);break;default:s.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},f.prototype._handlePubrel=function(e,t){t=void 0!==t?t:c;var r=e.messageId,n=this,o={cmd:"pubcomp",messageId:r};n.incomingStore.get(e,function(e,r){e?n._sendPacket(o,t):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,function(e){if(e)return t(e);n.incomingStore.del(r,c),n._sendPacket(o,t)}))})},f.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},f.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},f.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},f.prototype._resubscribe=function(e){var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var r=0;r<t.length;r++){var n={};n[t[r]]=this._resubscribeTopics[t[r]],n.resubscribe=!0,this.subscribe(n,{properties:n[t[r]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},f.prototype._onConnect=function(e){function t(){function n(){r._storeProcessing=!1,r._packetIdsDuringStoreProcessing={}}function o(){s.destroy(),s=null,n()}function i(){if(s){r._storeProcessing=!0;var e,t=s.read(1);return t?r._packetIdsDuringStoreProcessing[t.messageId]?void i():void(r.disconnecting||r.reconnectTimer?s.destroy&&s.destroy():(e=r.outgoing[t.messageId]?r.outgoing[t.messageId].cb:null,r.outgoing[t.messageId]={volatile:!1,cb:function(t,r){e&&e(t,r),i()}},r._packetIdsDuringStoreProcessing[t.messageId]=!0,r._sendPacket(t))):void s.once("readable",i)}}var s=r.outgoingStore.createStream();r.once("close",o),s.on("error",function(e){n(),r.removeListener("close",o),r.emit("error",e)}),s.on("end",function(){var i=!0;for(var s in r._packetIdsDuringStoreProcessing)if(!r._packetIdsDuringStoreProcessing[s]){i=!1;break}i?(n(),r.removeListener("close",o),r.emit("connect",e)):t()}),i()}if(this.disconnected)return void this.emit("connect",e);var r=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,t()},e.exports=f}).call(t,r(5),r(1))},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?o-1:0,p=r?-1:1,h=e[t+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=p,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=c}return(h?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?p/u:p*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+h]=255&s,h+=d,s/=256,c-=8);e[r+h-d]|=128*m}},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){e.copy(t,r)}var i=r(6).Buffer,s=r(275);e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),r=this.head,n=0;r;)o(r.data,t,n),n+=r.data.length,r=r.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){function n(e,t){this._id=e,this._clearFn=t}var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new n(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(277),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,r(5))},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return c[u]=n,a(u),u++}function o(e){delete c[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function s(e){if(f)setTimeout(s,0,e);else{var t=c[e];if(t){f=!0;try{i(t)}finally{o(e),f=!1}}}}if(!e.setImmediate){var a,u=1,c={},f=!1,l=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&s(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},a=function(t){e.port2.postMessage(t)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;a=function(t){var r=l.createElement("script");r.onreadystatechange=function(){s(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){a=function(e){setTimeout(s,0,e)}}(),p.setImmediate=n,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(5),r(1))},function(e,t,r){(function(t){function r(e,t){function r(){if(!o){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),o=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var o=!1;return r}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=r}).call(t,r(5))},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);o.call(this,e)}e.exports=n;var o=r(120),i=r(32);i.inherits=r(7),i.inherits(n,o),n.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";e.exports=r(281)()?Map:r(282)},function(e,t,r){"use strict";e.exports=function(){var e,t,r;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(t=e.entries(),r=t.next(),!1===r.done&&(!!r.value&&("raz"===r.value[0]&&"one"===r.value[1])))))))))))))}},function(e,t,r){"use strict";var n,o=r(121),i=r(283),s=r(46),a=r(10),u=r(8),c=r(16),f=r(301),l=r(12),p=r(128),h=r(307),d=r(320),m=r(323),y=Function.prototype.call,v=Object.defineProperties,g=Object.getPrototypeOf;e.exports=n=function(){var e,t,r,o=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return r=m&&s&&Map!==n?s(new Map,g(this)):this,null!=o&&p(o),v(r,{__mapKeysData__:c("c",e=[]),__mapValuesData__:c("c",t=[])}),o?(h(o,function(r){var n=u(r)[0];r=r[1],-1===i.call(e,n)&&(e.push(n),t.push(r))},r),r):r},m&&(s&&s(n,Map),n.prototype=Object.create(Map.prototype,{constructor:c(n)})),f(v(n.prototype,{clear:c(function(){this.__mapKeysData__.length&&(o.call(this.__mapKeysData__),o.call(this.__mapValuesData__),this.emit("_clear"))}),delete:c(function(e){var t=i.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:c(function(){return new d(this,"key+value")}),forEach:c(function(e){var t,r,n=arguments[1];for(a(e),t=this.entries(),r=t._next();void 0!==r;)y.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()}),get:c(function(e){var t=i.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:c(function(e){return-1!==i.call(this.__mapKeysData__,e)}),keys:c(function(){return new d(this,"key")}),set:c(function(e,t){var r,n=i.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this}),size:c.gs(function(){return this.__mapKeysData__.length}),values:c(function(){return new d(this,"value")}),toString:c(function(){return"[object Map]"})})),Object.defineProperty(n.prototype,l.iterator,c(function(){return this.entries()})),Object.defineProperty(n.prototype,l.toStringTag,c("c","Map"))},function(e,t,r){"use strict";var n=r(284),o=r(123),i=r(8),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,u=Math.abs,c=Math.floor;e.exports=function(e){var t,r,f,l;if(!n(e))return s.apply(this,arguments);for(r=o(i(this).length),f=arguments[1],f=isNaN(f)?0:f>=0?c(f):o(this.length)-c(u(f)),t=f;t<r;++t)if(a.call(this,t)&&(l=this[t],n(l)))return t;return-1}},function(e,t,r){"use strict";e.exports=r(285)()?Number.isNaN:r(286)},function(e,t,r){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},function(e,t,r){"use strict";e.exports=function(e){return e!==e}},function(e,t,r){"use strict";var n=r(288),o=Math.abs,i=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?n(e)*i(o(e)):e)}},function(e,t,r){"use strict";e.exports=r(289)()?Math.sign:r(290)},function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,r){"use strict";var n=r(24),o={function:!0,object:!0};e.exports=function(e){return n(e)&&o[typeof e]||!1}},function(e,t,r){"use strict";var n,o=Object.create;r(124)()||(n=r(125)),e.exports=function(){var e,t,r;return n?1!==n.level?o:(e={},t={},r={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if("__proto__"===e)return void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0});t[e]=r}),Object.defineProperties(e,t),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,r){return o(null===t?e:t,r)}):o}()},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n=r(295),o=r(8),i=Math.max;e.exports=function(e,t){var r,s,a,u=i(arguments.length,2);for(e=Object(o(e)),a=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},s=1;s<u;++s)t=arguments[s],n(t).forEach(a);if(void 0!==r)throw r;return e}},function(e,t,r){"use strict";e.exports=r(296)()?Object.keys:r(297)},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(24),o=Object.keys;e.exports=function(e){return o(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,r){"use strict";var n,o,i,s,a,u,c,f=r(16),l=r(10),p=Function.prototype.apply,h=Function.prototype.call,d=Object.create,m=Object.defineProperty,y=Object.defineProperties,v=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};n=function(e,t){var r;return l(t),v.call(this,"__ee__")?r=this.__ee__:(r=g.value=d(null),m(this,"__ee__",g),g.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},o=function(e,t){var r,o;return l(t),o=this,n.call(this,e,r=function(){i.call(o,e,r),p.call(t,this,arguments)}),r.__eeOnceListener__=t,this},i=function(e,t){var r,n,o,i;if(l(t),!v.call(this,"__ee__"))return this;if(r=this.__ee__,!r[e])return this;if("object"==typeof(n=r[e]))for(i=0;o=n[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===n.length?r[e]=n[i?0:1]:n.splice(i,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},s=function(e){var t,r,n,o,i;if(v.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;n=o[t];++t)p.call(n,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];p.call(o,this,i)}},a={on:n,once:o,off:i,emit:s},u={on:f(n),once:f(o),off:f(i),emit:f(s)},c=y({},u),e.exports=t=function(e){return null==e?d(c):y(Object(e),u)},t.methods=a},function(e,t,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&(!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag])}},function(e,t,r){"use strict";var n,o,i,s,a=r(16),u=r(304),c=Object.create,f=Object.defineProperties,l=Object.defineProperty,p=Object.prototype,h=c(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),s=!0}catch(e){}}var d=function(){var e=c(null);return function(t){for(var r,n,o=0;e[t+(o||"")];)++o;return t+=o||"",e[t]=!0,r="@@"+t,l(p,r,a.gs(null,function(e){n||(n=!0,l(this,r,a(e)),n=!1)})),r}}();i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},e.exports=o=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return s?n(t):(r=c(i.prototype),t=void 0===t?"":String(t),f(r,{__description__:a("",t),__name__:a("",d(t))}))},f(o,{for:a(function(e){return h[e]?h[e]:h[e]=o(String(e))}),keyFor:a(function(e){var t;u(e);for(t in h)if(h[t]===e)return t}),hasInstance:a("",n&&n.hasInstance||o("hasInstance")),isConcatSpreadable:a("",n&&n.isConcatSpreadable||o("isConcatSpreadable")),iterator:a("",n&&n.iterator||o("iterator")),match:a("",n&&n.match||o("match")),replace:a("",n&&n.replace||o("replace")),search:a("",n&&n.search||o("search")),species:a("",n&&n.species||o("species")),split:a("",n&&n.split||o("split")),toPrimitive:a("",n&&n.toPrimitive||o("toPrimitive")),toStringTag:a("",n&&n.toStringTag||o("toStringTag")),unscopables:a("",n&&n.unscopables||o("unscopables"))}),f(i.prototype,{constructor:a(o),toString:a("",function(){return this.__name__})}),f(o.prototype,{toString:a(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:a(function(){return u(this)})}),l(o.prototype,o.toPrimitive,a("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),l(o.prototype,o.toStringTag,a("c","Symbol")),l(i.prototype,o.toStringTag,a("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,a("c",o.prototype[o.toPrimitive]))},function(e,t,r){"use strict";var n=r(305);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,r){"use strict";var n=r(47),o=r(24),i=r(48),s=r(12).iterator,a=Array.isArray;e.exports=function(e){return!!o(e)&&(!!a(e)||(!!i(e)||(!!n(e)||"function"==typeof e[s])))}},function(e,t,r){"use strict";var n=r(47),o=r(10),i=r(48),s=r(308),a=Array.isArray,u=Function.prototype.call,c=Array.prototype.some;e.exports=function(e,t){var r,f,l,p,h,d,m,y,v=arguments[2];if(a(e)||n(e)?r="array":i(e)?r="string":e=s(e),o(t),l=function(){p=!0},"array"===r)return void c.call(e,function(e){return u.call(t,v,e,l),p});if("string"!==r)for(f=e.next();!f.done;){if(u.call(t,v,f.value,l),p)return;f=e.next()}else for(d=e.length,h=0;h<d&&(m=e[h],h+1<d&&(y=m.charCodeAt(0))>=55296&&y<=56319&&(m+=e[++h]),u.call(t,v,m,l),!p);++h);}},function(e,t,r){"use strict";var n=r(47),o=r(48),i=r(309),s=r(319),a=r(128),u=r(12).iterator;e.exports=function(e){return"function"==typeof a(e)[u]?e[u]():n(e)?new i(e):o(e)?new s(e):new i(e)}},function(e,t,r){"use strict";var n,o=r(46),i=r(127),s=r(16),a=r(12),u=r(73),c=Object.defineProperty;n=e.exports=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",c(this,"__kind__",s("",t))},o&&o(n,u),delete n.prototype.constructor,n.prototype=Object.create(u.prototype,{_resolve:s(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),c(n.prototype,a.toStringTag,s("c","Array Iterator"))},function(e,t,r){"use strict";var n,o=r(311),i=r(126),s=r(10),a=r(316),u=r(10),c=r(8),f=Function.prototype.bind,l=Object.defineProperty,p=Object.prototype.hasOwnProperty;n=function(e,t,r){var n,i=c(t)&&u(t.value);return n=o(t),delete n.writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&p.call(this,e)?i:(t.value=f.call(i,r.resolveContext?r.resolveContext(this):this),l(this,e,t),this[e])},n},e.exports=function(e){var t=i(arguments[1]);return null!=t.resolveContext&&s(t.resolveContext),a(e,function(e,r){return n(r,e,t)})}},function(e,t,r){"use strict";var n=r(312),o=r(72),i=r(8);e.exports=function(e){var t=Object(i(e)),r=arguments[1],s=Object(arguments[2]);if(t!==e&&!r)return t;var a={};return r?n(r,function(t){(s.ensure||t in e)&&(a[t]=e[t])}):o(a,e),a}},function(e,t,r){"use strict";e.exports=r(313)()?Array.from:r(314)},function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(e=["raz","dwa"],t=r(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,r){"use strict";var n=r(12).iterator,o=r(47),i=r(315),s=r(123),a=r(10),u=r(8),c=r(24),f=r(48),l=Array.isArray,p=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;e.exports=function(e){var t,r,m,y,v,g,b,_,w,x,S=arguments[1],E=arguments[2];if(e=Object(u(e)),c(S)&&a(S),this&&this!==Array&&i(this))t=this;else{if(!S){if(o(e))return 1!==(v=e.length)?Array.apply(null,e):(y=new Array(1),y[0]=e[0],y);if(l(e)){for(y=new Array(v=e.length),r=0;r<v;++r)y[r]=e[r];return y}}y=[]}if(!l(e))if(void 0!==(w=e[n])){for(b=a(w).call(e),t&&(y=new t),_=b.next(),r=0;!_.done;)x=S?p.call(S,E,_.value,r):_.value,t?(h.value=x,d(y,r,h)):y[r]=x,_=b.next(),++r;v=r}else if(f(e)){for(v=e.length,t&&(y=new t),r=0,m=0;r<v;++r)x=e[r],r+1<v&&(g=x.charCodeAt(0))>=55296&&g<=56319&&(x+=e[++r]),x=S?p.call(S,E,x,m):x,t?(h.value=x,d(y,m,h)):y[m]=x,++m;v=m}if(void 0===v)for(v=s(e.length),t&&(y=new t(v)),r=0;r<v;++r)x=S?p.call(S,E,e[r],r):e[r],t?(h.value=x,d(y,r,h)):y[r]=x;return t&&(h.value=null,y.length=v),y}},function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(r(122));e.exports=function(e){return"function"==typeof e&&n.call(e)===o}},function(e,t,r){"use strict";var n=r(10),o=r(317),i=Function.prototype.call;e.exports=function(e,t){var r={},s=arguments[2];return n(t),o(e,function(e,n,o,a){r[n]=i.call(t,s,e,n,o,a)}),r}},function(e,t,r){"use strict";e.exports=r(318)("forEach")},function(e,t,r){"use strict";var n=r(10),o=r(8),i=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,c){var f,l=arguments[2],p=arguments[3];return r=Object(o(r)),n(c),f=a(r),p&&f.sort("function"==typeof p?i.call(p,r):void 0),"function"!=typeof e&&(e=f[e]),s.call(e,f,function(e,n){return u.call(r,e)?s.call(c,l,r[e],e,r,n):t})}}},function(e,t,r){"use strict";var n,o=r(46),i=r(16),s=r(12),a=r(73),u=Object.defineProperty;n=e.exports=function(e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");e=String(e),a.call(this,e),u(this,"__length__",i("",e.length))},o&&o(n,a),delete n.prototype.constructor,n.prototype=Object.create(a.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),u(n.prototype,s.toStringTag,i("c","String Iterator"))},function(e,t,r){"use strict";var n,o=r(46),i=r(16),s=r(73),a=r(12).toStringTag,u=r(321),c=Object.defineProperties,f=s.prototype._unBind;n=e.exports=function(e,t){if(!(this instanceof n))return new n(e,t);s.call(this,e.__mapKeysData__,e),t&&u[t]||(t="key+value"),c(this,{__kind__:i("",t),__values__:i("w",e.__mapValuesData__)})},o&&o(n,s),n.prototype=Object.create(s.prototype,{constructor:i(n),_resolve:i(function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]}),_unBind:i(function(){this.__values__=null,f.call(this)}),toString:i(function(){return"[object Map Iterator]"})}),Object.defineProperty(n.prototype,a,i("c","Map Iterator"))},function(e,t,r){"use strict";e.exports=r(322)("key","value","key+value")},function(e,t,r){"use strict";var n=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return n.call(arguments,function(e){t[e]=!0}),t}},function(e,t,r){"use strict";e.exports=function(){return"undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)}()},function(e,t,r){"use strict";t.parser=r(325),t.generate=r(331),t.writeToStream=r(130)},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}var o=r(326),i=r(7),s=r(29).EventEmitter,a=r(330),u=r(129);i(n,s),n.prototype._resetState=function(){this.packet=new a,this.error=null,this._list=o(),this._stateCounter=0},n.prototype.parse=function(e){for(this.error&&this._resetState(),this._list.append(e);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)++this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},n.prototype._parseHeader=function(){var e=this._list.readUInt8(0);return this.packet.cmd=u.types[e>>u.CMD_SHIFT],this.packet.retain=0!=(e&u.RETAIN_MASK),this.packet.qos=e>>u.QOS_SHIFT&u.QOS_MASK,this.packet.dup=0!=(e&u.DUP_MASK),this._list.consume(1),!0},n.prototype._parseLength=function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),!!e},n.prototype._parsePayload=function(){var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return e},n.prototype._parseConnect=function(){var e,t,r,n,o,i,s={},a=this.packet;if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==e&&"MQIsdp"!==e)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=e,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(++this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.username=this._list.readUInt8(this._pos)&u.USERNAME_MASK,s.password=this._list.readUInt8(this._pos)&u.PASSWORD_MASK,s.will=this._list.readUInt8(this._pos)&u.WILL_FLAG_MASK,s.will&&(a.will={},a.will.retain=0!=(this._list.readUInt8(this._pos)&u.WILL_RETAIN_MASK),a.will.qos=(this._list.readUInt8(this._pos)&u.WILL_QOS_MASK)>>u.WILL_QOS_SHIFT),a.clean=0!=(this._list.readUInt8(this._pos)&u.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(null===(t=this._parseString()))return this._emitError(new Error("Packet too short"));if(a.clientId=t,s.will){if(5===a.protocolVersion){var f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.will.properties=f)}if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=r,null===(n=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));a.will.payload=n}if(s.username){if(null===(i=this._parseString()))return this._emitError(new Error("Cannot parse username"));a.username=i}if(s.password){if(null===(o=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));a.password=o}return this.settings=a,a},n.prototype._parseConnack=function(){var e=this.packet;if(this._list.length<2)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&u.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?e.reasonCode=this._list.readUInt8(this._pos++):e.returnCode=this._list.readUInt8(this._pos++),-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}},n.prototype._parsePublish=function(){var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length)}},n.prototype._parseSubscribe=function(){var e,t,r,n,o,i,s,a=this.packet;if(1!==a.qos)return this._emitError(new Error("Wrong subscribe header"));if(a.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}for(;this._pos<a.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));t=this._parseByte(),r=t&u.SUBSCRIBE_OPTIONS_QOS_MASK,i=0!=(t>>u.SUBSCRIBE_OPTIONS_NL_SHIFT&u.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(t>>u.SUBSCRIBE_OPTIONS_RAP_SHIFT&u.SUBSCRIBE_OPTIONS_RAP_MASK),n=t>>u.SUBSCRIBE_OPTIONS_RH_SHIFT&u.SUBSCRIBE_OPTIONS_RH_MASK,s={topic:e,qos:r},5===this.settings.protocolVersion&&(s.nl=i,s.rap=o,s.rh=n),a.subscriptions.push(s)}}},n.prototype._parseSuback=function(){var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},n.prototype._parseUnsubscribe=function(){var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){var r;if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse topic"));e.unsubscriptions.push(r)}}},n.prototype._parseUnsuback=function(){var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},n.prototype._parseConfirmation=function(){var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&e.length>2){e.reasonCode=this._parseByte();var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0},n.prototype._parseDisconnect=function(){var e=this.packet;if(5===this.settings.protocolVersion){e.reasonCode=this._parseByte();var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0},n.prototype._parseAuth=function(){var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),!0},n.prototype._parseMessageId=function(){var e=this.packet;return e.messageId=this._parseNum(),null!==e.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},n.prototype._parseString=function(e){var t,r=this._parseNum(),n=r+this._pos;return-1===r||n>this._list.length||n>this.packet.length?null:(t=this._list.toString("utf8",this._pos,n),this._pos+=r,t)},n.prototype._parseStringPair=function(){return{name:this._parseString(),value:this._parseString()}},n.prototype._parseBuffer=function(){var e,t=this._parseNum(),r=t+this._pos;return-1===t||r>this._list.length||r>this.packet.length?null:(e=this._list.slice(this._pos,r),this._pos+=t,e)},n.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,e},n.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,e},n.prototype._parseVarByteNum=function(e){for(var t,r=0,n=1,o=0,i=!0,s=this._pos?this._pos:0;r<5&&(t=this._list.readUInt8(s+r++),o+=n*(t&u.LENGTH_MASK),n*=128,0!=(t&u.LENGTH_FIN_MASK));)if(this._list.length<=r){i=!1;break}return s&&(this._pos+=r),i=!!i&&(e?{bytes:r,value:o}:o)},n.prototype._parseByte=function(){var e=this._list.readUInt8(this._pos);return this._pos++,e},n.prototype._parseByType=function(e){switch(e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},n.prototype._parseProperties=function(){for(var e=this._parseVarByteNum(),t=this._pos,r=t+e,n={};this._pos<r;){var o=this._parseByte(),i=u.propertiesCodes[o];if(!i)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==i)n[i]?Array.isArray(n[i])?n[i].push(this._parseByType(u.propertiesTypes[i])):(n[i]=[n[i]],n[i].push(this._parseByType(u.propertiesTypes[i]))):n[i]=this._parseByType(u.propertiesTypes[i]);else{n[i]||(n[i]={});var s=this._parseByType(u.propertiesTypes[i]);if(n[i][s.name])if(Array.isArray(n[i][s.name]))n[i][s.name].push(s.value);else{var a=n[i][s.name];n[i][s.name]=[a],n[i][s.name].push(s.value)}else n[i][s.name]=s.value}}return n},n.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new a,this._pos=0,!0},n.prototype._emitError=function(e){this.error=e,this.emit("error",e)},e.exports=n},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else this.append(e);o.call(this)}var o=r(327),i=r(328),s=r(6).Buffer;i.inherits(n,o),n.prototype._offset=function(e){var t,r=0,n=0;if(0===e)return[0,0];for(;n<this._bufs.length;n++){if(t=r+this._bufs[n].length,e<t||n==this._bufs.length-1)return[n,e-r];r=t}},n.prototype.append=function(e){var t=0;if(s.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof n)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(s.from(e)));return this},n.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},n.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},n.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},n.prototype.end=function(e){o.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype.get=function(e){return this.slice(e,e+1)[0]},n.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},n.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||s.alloc(0);if(n<=0)return e||s.alloc(0);var o,i,a=!!e,u=this._offset(r),c=n-r,f=c,l=a&&t||0,p=u[1];if(0===r&&n==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(i=0;i<this._bufs.length;i++)this._bufs[i].copy(e,l),l+=this._bufs[i].length;return e}if(f<=this._bufs[u[0]].length-p)return a?this._bufs[u[0]].copy(e,t,p,p+f):this._bufs[u[0]].slice(p,p+f);for(a||(e=s.allocUnsafe(c)),i=u[0];i<this._bufs.length;i++){if(o=this._bufs[i].length-p,!(f>o)){this._bufs[i].copy(e,l,p,p+f);break}this._bufs[i].copy(e,l,p),l+=o,f-=o,p&&(p=0)}return e},n.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=this._offset(e),o=this._offset(t),i=this._bufs.slice(r[0],o[0]+1);return 0==o[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,o[1]),0!=r[1]&&(i[0]=i[0].slice(r[1])),new n(i)},n.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},n.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){for(var e=0,t=new n;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},n.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){n.prototype[t]=function(r){return this.slice(r,r+e[t])[t](0)}}(t)}(),e.exports=n},function(e,t,r){e.exports=r(15)},function(e,t,r){(function(e){function n(e,r){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,e,n.depth)}function o(e,t){var r=n.styles[t];return r?"["+n.colors[r][0]+"m"+e+"["+n.colors[r][1]+"m":e}function i(e,t){return e}function s(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,r,n){if(e.customInspect&&r&&k(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return g(o)||(o=a(e,o,n)),o}var i=u(e,r);if(i)return i;var d=Object.keys(r),m=s(d);if(e.showHidden&&(d=Object.getOwnPropertyNames(r)),E(r)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return c(r);if(0===d.length){if(k(r)){var y=r.name?": "+r.name:"";return e.stylize("[Function"+y+"]","special")}if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return c(r)}var v="",b=!1,_=["{","}"];if(h(r)&&(b=!0,_=["[","]"]),k(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(w(r)&&(v=" "+RegExp.prototype.toString.call(r)),S(r)&&(v=" "+Date.prototype.toUTCString.call(r)),E(r)&&(v=" "+c(r)),0===d.length&&(!b||0==r.length))return _[0]+v+_[1];if(n<0)return w(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var x;return x=b?f(e,r,n,m,d):d.map(function(t){return l(e,r,n,m,t,b)}),e.seen.pop(),p(x,v,_)}function u(e,t){if(_(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)A(t,String(s))?i.push(l(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(e,t,r,n,o,!0))}),i}function l(e,t,r,n,o,i){var s,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),A(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=m(r)?a(e,c.value,null):a(e,c.value,r-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),_(s)){if(i&&o.match(/^\d+$/))return u;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return null==e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function _(e){return void 0===e}function w(e){return x(e)&&"[object RegExp]"===j(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===j(e)}function E(e){return x(e)&&("[object Error]"===j(e)||e instanceof Error)}function k(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function j(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function C(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,r).then(function(t){e.nextTick(s,null,t)},function(t){e.nextTick(T,t,s)})}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,M(t)),r}var M=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},R=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(n(arguments[r]));return t.join(" ")}for(var r=1,o=arguments,i=o.length,s=String(e).replace(R,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(e){return"[Circular]"}default:return e}}),a=o[r];r<i;a=o[++r])m(a)||!x(a)?s+=" "+a:s+=" "+n(a);return s},t.deprecate=function(r,n){function o(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return o};var q,L={};t.debuglog=function(r){if(_(q)&&(q=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!L[r])if(new RegExp("\\b"+r+"\\b","i").test(q)){var n=e.pid;L[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else L[r]=function(){};return L[r]},t.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=m,t.isNullOrUndefined=y,t.isNumber=v,t.isString=g,t.isSymbol=b,t.isUndefined=_,t.isRegExp=w,t.isObject=x,t.isDate=S,t.isError=E,t.isFunction=k,t.isPrimitive=O,t.isBuffer=r(329);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(7),t._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;t.promisify=function(e){function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(e){r(e)}return n}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t=e[N];if("function"!=typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,M(e))},t.promisify.custom=N,t.callbackify=C}).call(t,r(1))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){function r(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}e.exports=r},function(e,t,r){"use strict";function n(e,t){var r=new o;return s(e,r,t),r.concat()}function o(){this._array=new Array(20),this._i=0}var i=r(6).Buffer,s=r(130),a=r(29).EventEmitter;r(7)(o,a),o.prototype.write=function(e){return this._array[this._i++]=e,!0},o.prototype.concat=function(){var e,t,r=0,n=new Array(this._array.length),o=this._array,s=0;for(e=0;e<o.length&&void 0!==o[e];e++)"string"!=typeof o[e]?n[e]=o[e].length:n[e]=i.byteLength(o[e]),r+=n[e];for(t=i.allocUnsafe(r),e=0;e<o.length&&void 0!==o[e];e++)"string"!=typeof o[e]?(o[e].copy(t,s),s+=n[e]):(t.write(o[e],s),s+=n[e]);return t},e.exports=n},function(e,t,r){"use strict";function n(e){var t=u.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}function o(){for(var e=0;e<c;e++)f[e]=n(e)}function i(e){return e>=0&&e<128?1:e>=128&&e<16384?2:e>=16384&&e<2097152?3:e>=2097152&&e<268435456?4:0}function s(e){var t=0,r=0,n=i(e),o=u.allocUnsafe(n);do{t=e%128|0,e=e/128|0,e>0&&(t|=128),o.writeUInt8(t,r++)}while(e>0);return{data:o,length:n}}function a(e){var t=u.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var u=r(6).Buffer,c=65536,f={};e.exports={cache:f,generateCache:o,generateNumber:n,genBufVariableByteInt:s,generate4ByteBuffer:a}},function(e,t,r){"use strict";function n(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}function o(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new n(arguments[0],arguments[1],e)}e.exports=o},function(e,t,r){"use strict";function n(e){for(var t=e.split("/"),r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}function o(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}e.exports={validateTopics:o}},function(e,t,r){(function(e,n){var o;!function(i){function s(e){throw new RangeError(C[e])}function a(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function u(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(T,"."),n+a(e.split("."),t).join(".")}function c(e){for(var t,r,n=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function f(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=q(e>>>10&1023|55296),e=56320|1023&e),t+=q(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?R(e/k):e>>1,e+=R(e/t);e>M*S>>1;n+=w)e=R(e/M);return R(n+(M+1)*e/(e+E))}function d(e){var t,r,n,o,i,a,u,c,p,d,m=[],y=e.length,v=0,g=j,b=O;for(r=e.lastIndexOf(I),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&s("not-basic"),m.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<y;){for(i=v,a=1,u=w;o>=y&&s("invalid-input"),c=l(e.charCodeAt(o++)),(c>=w||c>R((_-v)/a))&&s("overflow"),v+=c*a,p=u<=b?x:u>=b+S?S:u-b,!(c<p);u+=w)d=w-p,a>R(_/d)&&s("overflow"),a*=d;t=m.length+1,b=h(v-i,t,0==i),R(v/t)>_-g&&s("overflow"),g+=R(v/t),v%=t,m.splice(v++,0,g)}return f(m)}function m(e){var t,r,n,o,i,a,u,f,l,d,m,y,v,g,b,E=[];for(e=c(e),y=e.length,t=j,r=0,i=O,a=0;a<y;++a)(m=e[a])<128&&E.push(q(m));for(n=o=E.length,o&&E.push(I);n<y;){for(u=_,a=0;a<y;++a)(m=e[a])>=t&&m<u&&(u=m);for(v=n+1,u-t>R((_-r)/v)&&s("overflow"),r+=(u-t)*v,t=u,a=0;a<y;++a)if(m=e[a],m<t&&++r>_&&s("overflow"),m==t){for(f=r,l=w;d=l<=i?x:l>=i+S?S:l-i,!(f<d);l+=w)b=f-d,g=w-d,E.push(q(p(d+b%g,0))),f=R(b/g);E.push(q(p(f,0))),i=h(r,v,n==o),r=0,++n}++r,++t}return E.join("")}function y(e){return u(e,function(e){return P.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return u(e,function(e){return A.test(e)?"xn--"+m(e):e})}var g=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof n&&n);var b,_=2147483647,w=36,x=1,S=26,E=38,k=700,O=72,j=128,I="-",P=/^xn--/,A=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=w-x,R=Math.floor,q=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:c,encode:f},decode:d,encode:m,toASCII:v,toUnicode:y},void 0!==(o=function(){return b}.call(t,r,t,e))&&(e.exports=o)}()}).call(t,r(45)(e),r(5))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(338),t.encode=t.stringify=r(339)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,p,h,d,m=e[f].replace(a,"%20"),y=m.indexOf(r);y>=0?(l=m.substr(0,y),p=m.substr(y+1)):(l=m,p=""),h=decodeURIComponent(l),d=decodeURIComponent(p),n(s,h)?o(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(o(s))+r;return i(e[s])?n(e[s],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[s]))}).join(t):a?encodeURIComponent(o(a))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t){},function(e,t){},function(e,t,r){var n=r(343),o=function(){},i=function(e){return e.setHeader&&"function"==typeof e.abort},s=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=n(r||o);var u=e._writableState,c=e._readableState,f=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,p=function(){e.writable||h()},h=function(){l=!1,f||r.call(e)},d=function(){f=!1,l||r.call(e)},m=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},v=function(){return(!f||c&&c.ended)&&(!l||u&&u.ended)?void 0:r.call(e,new Error("premature close"))},g=function(){e.req.on("finish",h)};return i(e)?(e.on("complete",h),e.on("abort",v),e.req?g():e.on("request",g)):l&&!u&&(e.on("end",p),e.on("close",p)),s(e)&&e.on("exit",m),e.on("end",d),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",v),function(){e.removeListener("complete",h),e.removeListener("abort",v),e.removeListener("request",g),e.req&&e.req.removeListener("finish",h),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",d),e.removeListener("error",y),e.removeListener("close",v)}};e.exports=a},function(e,t,r){function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var i=r(344);e.exports=i(n),e.exports.strict=i(o),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t){function r(e,t){function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),o=t[t.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach(function(e){n[e]=o[e]}),n}if(e&&t)return r(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}e.exports=r},function(e,t){function r(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(n(t)):null}function n(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}e.exports=r},function(e,t,r){"use strict";(function(t,n){function o(e,t,r){var n=new s({objectMode:e.objectMode});return n._write=t,n._flush=r,n}function i(e,r,i){function s(e,t,r){if(b.readyState!==b.OPEN)return void r();O&&"string"==typeof e&&(e=c.from(e,"utf8")),b.send(e,r)}function f(e,t,r){if(b.bufferedAmount>E)return void setTimeout(f,k,e,t,r);O&&"string"==typeof e&&(e=c.from(e,"utf8"));try{b.send(e)}catch(e){return r(e)}r()}function l(e){b.close(),e()}function p(){g.setReadable(S),g.setWritable(S),g.emit("connect")}function h(){g.end(),g.destroy()}function d(e){g.destroy(e)}function m(e){var t=e.data;t=t instanceof ArrayBuffer?c.from(t):c.from(t,"utf8"),S.push(t)}function y(){b.close()}function v(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"string"==typeof e[n].chunk?r[n]=c.from(e[n],"utf8"):r[n]=e[n].chunk;this._write(c.concat(r),"binary",t)}var g,b,_="browser"===t.title,w=!!n.WebSocket,x=_?f:s;r&&!Array.isArray(r)&&"object"==typeof r&&(i=r,r=null,("string"==typeof i.protocol||Array.isArray(i.protocol))&&(r=i.protocol)),i||(i={}),void 0===i.objectMode&&(i.objectMode=!(!0===i.binary||void 0===i.binary));var S=o(i,x,l);i.objectMode||(S._writev=v);var E=i.browserBufferSize||524288,k=i.browserBufferTimeout||1e3;"object"==typeof e?b=e:(b=w&&_?new u(e,r):new u(e,r,i),b.binaryType="arraybuffer"),b.readyState===b.OPEN?g=S:(g=g=a(void 0,void 0,i),i.objectMode||(g._writev=v),b.onopen=p),g.socket=b,b.onclose=h,b.onerror=d,b.onmessage=m,S.on("close",y);var O=!i.objectMode;return g}var s=r(23).Transform,a=r(75),u=r(347),c=r(6).Buffer;e.exports=i}).call(t,r(1),r(5))},function(e,t){var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:"undefined"!=typeof window&&(r=window.WebSocket||window.MozWebSocket),e.exports=r},function(e,t,r){"use strict";/*!
 * in-array <https://github.com/jonschlinkert/in-array>
 *
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */
e.exports=function(e,t){e=e||[];var r,n=e.length;for(r=0;r<n;r++)if(e[r]===t)return!0;return!1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return c||(c=e),(0,s.default)(t).forEach(function(r,n,i){var s=t[r],a="";s.base&&(f=s.base),a=f,e[r]||(e[r]={}),s.methods&&s.methods.length&&s.methods.forEach(function(t,n){e[r][t.name]=function(){var e=arguments,r=""+a+t.pattern;switch(t.params&&t.params.length&&t.params.forEach(function(t,n,o){-1!==r.indexOf(t)&&(r=r.replace("{"+t+"}",e[n]))}),c.hasClient()||c([]),t.name){case"subscribe":return c.subscribe({name:r,handler:arguments[t.params.length],options:arguments[t.params.length+1]});case"unsubscribe":return c.unsubscribe(r,arguments[t.params.length])}}}),s.children&&(e[r]=o(e[r],s.children))}),e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),s=n(i),a=r(136),u=n(a),c=void 0,f="";t.default=function(e){return o(e,u.default)}},function(e,t,r){function n(e){var t=++i;return o(e)+t}var o=r(351),i=0;e.exports=n},function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(352);e.exports=n},function(e,t,r){function n(e){if("string"==typeof e)return e;if(s(e))return i(e,n)+"";if(a(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=r(60),i=r(353),s=r(62),a=r(354),u=1/0,c=o?o.prototype:void 0,f=c?c.toString:void 0;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t,r){function n(e){return"symbol"==typeof e||i(e)&&o(e)==s}var o=r(27),i=r(22),s="[object Symbol]";e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){function r(e){var n=e.split("/").slice(1),o=n.reduce(function(e,t){return e[t]},t);if(!o.$ref)return o;r(o.$ref)}var n=t.basePath,o=n.slice(1);return e[o]={},(0,p.default)(t.paths).reduce(function(i,a,c){var l=(0,p.default)(t.paths[a]).filter(function(e){return"parameters"!==e}),d=(t.paths[a].parameters&&t.paths[a].parameters.reduce(function(e,t){if(t.$ref){var n=r(t.$ref);e[n.name]=n.in}else e[t.name]=t.in;return e},{}),a.split("/").reduce(function(e,t){return t.match(/{([\w\.-]+)}/g)?e.params.push(t):t&&e.parts.push(t.replace(/[\.-]\w/g,function(e){return e[1].toUpperCase()})),e},{params:[],parts:[]}));return l.forEach(function(c){var l=t.paths[a][c].parameters?t.paths[a][c].parameters.reduce(function(e,t){if(t.$ref){var n=r(t.$ref);e[n.name]=n.in}else e[t.name]=t.in;return e},{}):{};d.parts.reduce(function(e,t){return e[t]||(e[t]={}),e[t]},e[o]),d.parts.reduce(function(t,r,o,i){return o===i.length-1&&(t[r][c]=function(){var t=arguments,r=""+n+a,o={},i=[].concat((0,f.default)(d.params));if((0,u.default)(l).includes("query")&&i.push("query"),(0,u.default)(l).includes("body")&&i.push("body"),(0,u.default)(l).includes("formData")){(0,p.default)(l).filter(function(e){return"formData"===l[e]}).forEach(function(e){i.push("formData_"+e)})}return i.forEach(function(e,n){if(-1!==r.indexOf(e)&&(r=r.replace(e,t[n])),"query"===e&&t[n]&&(o.params=t[n]),"body"===e&&t[n]&&(o.data=t[n]),0===e.indexOf("formData_")&&t[n]){o.data||(o.data=new h);var i=e.split("_")[1];o.data.append(i,t[n]),"file"===i&&(o.headers||(o.headers={}),o.headers["Content-Type"]="multipart/form-data; boundary="+o.data._boundary)}}),o=arguments[i.length]?(0,s.default)(arguments[i.length],{url:r,method:c},o):(0,s.default)({url:r,method:c},o),e(o)}),t[r]},e[o]);var m=d.parts.reduce(function(e,t){return e+=t[0].toUpperCase()+t.slice(1).replace(/-\w/g,function(e){return e[1].toUpperCase()})},""+c);i[m]=function(){var t=arguments,r=""+n+a,o={},i=[].concat((0,f.default)(d.params));if((0,u.default)(l).includes("query")&&i.push("query"),(0,u.default)(l).includes("body")&&i.push("body"),(0,u.default)(l).includes("formData")){(0,p.default)(l).filter(function(e){return"formData"===l[e]}).forEach(function(e){i.push("formData_"+e)})}return i.forEach(function(e,n){if(-1!==r.indexOf(e)&&(r=r.replace(e,t[n])),"query"===e&&t[n]&&(o.params=t[n]),"body"===e&&t[n]&&(o.data=t[n]),0===e.indexOf("formData_")&&t[n]){o.data||(o.data=new h);var i=e.split("_")[1];o.data.append(i,t[n]),"file"===i&&(o.headers||(o.headers={}),o.headers["Content-Type"]="multipart/form-data; boundary="+o.data._boundary)}}),o=arguments[i.length]?(0,s.default)(arguments[i.length],{url:r,method:c},o):(0,s.default)({url:r,method:c},o),e(o)}}),i},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),s=n(i),a=r(356),u=n(a),c=r(360),f=n(c),l=r(13),p=n(l),h="undefined"!=typeof FormData?FormData:r(365),d=r(366);t.default=function(e){return d.reduce(function(t,r){return t[r.basePath.slice(1)]=o(e,r),t},{})}},function(e,t,r){e.exports={default:r(357),__esModule:!0}},function(e,t,r){r(358),e.exports=r(0).Object.values},function(e,t,r){var n=r(9),o=r(359)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,t,r){var n=r(36),o=r(37),i=r(80).f;e.exports=function(e){return function(t){for(var r,s=o(t),a=n(s),u=a.length,c=0,f=[];u>c;)i.call(s,r=a[c++])&&f.push(e?[r,s[r]]:s[r]);return f}}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(361),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}},function(e,t,r){e.exports={default:r(362),__esModule:!0}},function(e,t,r){r(66),r(363),e.exports=r(0).Array.from},function(e,t,r){"use strict";var n=r(25),o=r(9),i=r(39),s=r(105),a=r(106),u=r(52),c=r(364),f=r(67);o(o.S+o.F*!r(111)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,p=i(e),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,y=void 0!==m,v=0,g=f(p);if(y&&(m=n(m,d>2?arguments[2]:void 0,2)),void 0==g||h==Array&&a(g))for(t=u(p.length),r=new h(t);t>v;v++)c(r,v,y?m(p[v],v):p[v]);else for(l=g.call(p),r=new h;!(o=l.next()).done;v++)c(r,v,y?s(l,m,[o.value,v],!0):o.value);return r.length=v,r}})},function(e,t,r){"use strict";var n=r(19),o=r(50);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t){e.exports=[{basePath:"/platform",paths:{"/customer":{get:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"fields",in:"query"}]},put:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/customer/chat":{get:{parameters:[{name:"data",in:"query"}]},post:{parameters:[{name:"data",in:"body"}]},put:{parameters:[{name:"data",in:"body"}]}},"/customer/chat-file":{post:{parameters:[{name:"file",in:"formData"},{name:"data",in:"formData"}]}},"/customer/logs":{get:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"data",in:"query"}]}},"/customer/oauth/{oauth-selector}":{parameters:[{name:"oauth-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}},"/customer/statistics":{get:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"data",in:"query"}]}},"/customer/tokens":{post:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/customer/tokens/{tokens-selector}":{parameters:[{name:"x-flespi-cid",in:"header"},{name:"tokens-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/customer/unsubscribe":{get:{parameters:[{name:"email",in:"query"},{name:"checksum",in:"query"}]}},"/limits":{post:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/limits/{limits-selector}":{parameters:[{name:"limits-selector",in:"path"},{name:"x-flespi-cid",in:"header"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/subaccounts":{post:{parameters:[{name:"x-flespi-cid",in:"header"},{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/subaccounts/{subaccounts-selector}":{parameters:[{name:"subaccounts-selector",in:"path"},{name:"x-flespi-cid",in:"header"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}}}},{basePath:"/gw",paths:{"/calcs":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/calcs/{calcs.selector}":{parameters:[{name:"calcs.selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/calcs/{calcs.selector}/devices/{calc.devices.selector}":{parameters:[{name:"calcs.selector",in:"path"},{name:"calc.devices.selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/calcs/{calcs.selector}/devices/{calc.devices.selector}/calculate":{parameters:[{name:"calcs.selector",in:"path"},{name:"calc.devices.selector",in:"path"}],post:{parameters:[{name:"data",in:"body"}]}},"/calcs/{calcs.selector}/devices/{calc.devices.selector}/intervals/{calc.device.intervals.selector}":{parameters:[{name:"calcs.selector",in:"path"},{name:"calc.devices.selector",in:"path"},{name:"calc.device.intervals.selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]},put:{parameters:[{name:"data",in:"body"}]}},"/calcs/{calcs.selector}/logs":{parameters:[{name:"calcs.selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/channels":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/channels/{1-ch-selector}/commands-result":{parameters:[{name:"1-ch-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/channels/{1-ch-selector}/messages":{parameters:[{name:"1-ch-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/channels/{ch-selector}":{parameters:[{name:"ch-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/channels/{ch-selector}/commands-queue":{parameters:[{name:"ch-selector",in:"path"}],post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/channels/{ch-selector}/commands-queue/{cmd-queue-selector}":{parameters:[{name:"ch-selector",in:"path"},{name:"cmd-queue-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}},"/channels/{ch-selector}/commands-result":{parameters:[{name:"ch-selector",in:"path"}],delete:{parameters:[{name:"data",in:"query"}]}},"/channels/{ch-selector}/connections/{conn-selector}":{parameters:[{name:"ch-selector",in:"path"},{name:"conn-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}},"/channels/{ch-selector}/logs":{parameters:[{name:"ch-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/channels/{ch-selector}/messages":{parameters:[{name:"ch-selector",in:"path"}],delete:{parameters:[{name:"data",in:"query"}]}},"/devices":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/devices/{dev-selector}":{parameters:[{name:"dev-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/devices/{dev-selector}/calculate":{post:{parameters:[{name:"dev-selector",in:"path"},{name:"data",in:"body"}]}},"/devices/{dev-selector}/logs":{parameters:[{name:"dev-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/devices/{dev-selector}/messages":{parameters:[{name:"dev-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/devices/{dev-selector}/settings/{sett-selector}":{parameters:[{name:"dev-selector",in:"path"},{name:"sett-selector",in:"path"}],delete:{parameters:[{name:"data",in:"query"}]},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/devices/{dev-selector}/snapshots":{parameters:[{name:"dev-selector",in:"path"}],get:{}},"/devices/{dev-selector}/snapshots/{snapshot-selector}":{parameters:[{name:"dev-selector",in:"path"},{name:"snapshot-selector",in:"path"}],get:{}},"/devices/{dev-selector}/telemetry":{parameters:[{name:"dev-selector",in:"path"}],get:{}},"/message-parameters/{message-parameter.selector}":{parameters:[{name:"message-parameter.selector",in:"path"}],get:{parameters:[{name:"fields",in:"query"}]}},"/modems":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/modems/{modem-selector}":{parameters:[{name:"modem-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/modems/{modem-selector}/logs":{parameters:[{name:"modem-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/protocols/{protocol-selector}":{parameters:[{name:"protocol-selector",in:"path"}],get:{parameters:[{name:"fields",in:"query"}]}},"/protocols/{protocol-selector}/commands/{protocol-cmds-selector}":{parameters:[{name:"protocol-selector",in:"path"},{name:"protocol-cmds-selector",in:"path"}],get:{parameters:[{name:"fields",in:"query"}]}},"/protocols/{protocol-selector}/device-types/{devtypes-selector}":{parameters:[{name:"protocol-selector",in:"path"},{name:"devtypes-selector",in:"path"}],get:{parameters:[{name:"fields",in:"query"}]}},"/streams":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/streams/{stm-selector}":{parameters:[{name:"stm-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/streams/{stm-selector}/channels":{parameters:[{name:"stm-selector",in:"path"}],post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/streams/{stm-selector}/channels/{channel.subscr-selector}":{parameters:[{name:"stm-selector",in:"path"},{name:"channel.subscr-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},post:{parameters:[{name:"fields",in:"query"}]},"x-flespi-extra-parameters":{}},"/streams/{stm-selector}/devices":{parameters:[{name:"stm-selector",in:"path"}],post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/streams/{stm-selector}/devices/{device.subscr-selector}":{parameters:[{name:"stm-selector",in:"path"},{name:"device.subscr-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},post:{parameters:[{name:"fields",in:"query"}]}},"/streams/{stm-selector}/logs":{parameters:[{name:"stm-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/streams/{stm-selector}/subscriptions":{parameters:[{name:"stm-selector",in:"path"}],post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/streams/{stm-selector}/subscriptions/{subscr-selector}":{parameters:[{name:"subscr-selector",in:"path"},{name:"stm-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}}}},{basePath:"/storage",paths:{"/abques":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/abques/{1-abque-selector}/messages":{parameters:[{name:"1-abque-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/abques/{abque-selector}":{parameters:[{name:"abque-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/abques/{abque-selector}/logs":{parameters:[{name:"abque-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/abques/{abque-selector}/messages":{parameters:[{name:"abque-selector",in:"path"}],delete:{parameters:[{name:"data",in:"query"}]},post:{parameters:[{name:"data",in:"body"}]}},"/cdns":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/cdns/{cdn-selector}":{parameters:[{name:"cdn-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/cdns/{cdn-selector}/files":{parameters:[{name:"cdn-selector",in:"path"}],delete:{parameters:[{name:"data",in:"body"}]},get:{parameters:[{name:"data",in:"query"}]},post:{parameters:[{name:"file",in:"formData"},{name:"data",in:"formData"}]}},"/cdns/{cdn-selector}/logs":{parameters:[{name:"cdn-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/containers":{post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/containers/{container-selector}":{parameters:[{name:"container-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]},put:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/containers/{container-selector}/calculate":{post:{parameters:[{name:"container-selector",in:"path"},{name:"data",in:"body"}]}},"/containers/{container-selector}/logs":{parameters:[{name:"container-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/containers/{container-selector}/messages":{parameters:[{name:"container-selector",in:"path"}],delete:{parameters:[{name:"data",in:"query"}]},get:{parameters:[{name:"data",in:"query"}]},post:{parameters:[{name:"data",in:"body"}]}},"/containers/{container-selector}/snapshots":{parameters:[{name:"container-selector",in:"path"}],get:{}},"/containers/{container-selector}/snapshots/{snapshot-selector}":{parameters:[{name:"container-selector",in:"path"},{name:"snapshot-selector",in:"path"}],get:{}}}},{basePath:"/mqtt",paths:{"/logs":{get:{parameters:[{name:"data",in:"query"}]}},"/messages":{post:{parameters:[{name:"data",in:"body"}]}},"/messages/{messages-selector}":{parameters:[{name:"messages-selector",in:"path"}],delete:{parameters:[{name:"data",in:"body"}]},get:{parameters:[{name:"data",in:"query"}]}},"/sessions":{post:{parameters:[{name:"data",in:"body"}]}},"/sessions/{sessions-selector}":{parameters:[{name:"sessions-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}},"/sessions/{sessions-selector}/logs":{parameters:[{name:"sessions-selector",in:"path"}],get:{parameters:[{name:"data",in:"query"}]}},"/sessions/{sessions-selector}/subscriptions":{parameters:[{name:"sessions-selector",in:"path"}],post:{parameters:[{name:"fields",in:"query"},{name:"data",in:"body"}]}},"/sessions/{sessions-selector}/subscriptions/{subscriptions-selector}":{parameters:[{name:"sessions-selector",in:"path"},{name:"subscriptions-selector",in:"path"}],delete:{},get:{parameters:[{name:"fields",in:"query"}]}}}},{basePath:"/auth",paths:{"/account/confirm":{post:{parameters:[{name:"data",in:"body"}]}},"/account/register":{post:{parameters:[{name:"data",in:"body"}]}},"/email/confirm":{get:{}},"/email/revert":{get:{}},"/email/update":{put:{parameters:[{name:"data",in:"body"}]}},"/info":{get:{}},"/login/credentials":{post:{parameters:[{name:"data",in:"body"}]}},"/login/passwordless":{get:{},post:{parameters:[{name:"data",in:"body"}]}},"/oauth/link":{post:{parameters:[{name:"data",in:"body"}]}},"/oauth/login":{post:{parameters:[{name:"data",in:"body"}]}},"/oauth/providers":{get:{}},"/oauth/providers/bitbucket":{get:{}},"/oauth/providers/facebook":{get:{}},"/oauth/providers/github":{get:{}},"/oauth/providers/google":{get:{}},"/oauth/providers/live":{get:{}},"/password":{put:{parameters:[{name:"data",in:"body"}]}}}}]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){l||(l=e);var r=(0,u.default)(t),n={};return r.forEach(function(r,i,a){var u=t[r],c="";if(u.base&&(p=u.base),c=p,u.methods&&u.methods.length&&u.methods.forEach(function(e,t){n[""+e.name+h+(r[0].toUpperCase()+r.slice(1))]=function(){var t=arguments,r=""+c+e.pattern;switch(e.params&&e.params.length&&e.params.forEach(function(e,n,o){-1!==r.indexOf(e)&&(r=r.replace("{"+e+"}",t[n]))}),l.hasClient()||l([]),e.name){case"subscribe":return l.subscribe({name:r,handler:arguments[e.params.length],options:arguments[e.params.length+1]});case"unsubscribe":return l.unsubscribe(r,arguments[e.params.length])}}}),u.children){var f=r[0].toUpperCase()+r.slice(1);h=""+h+f,(0,s.default)(n,o(e,u.children)),h=h.replace(f,"")}}),n}Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),s=n(i),a=r(13),u=n(a),c=r(136),f=n(c),l=void 0,p="",h="";t.default=function(e){return o(e,f.default)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(68),i=n(o),s=r(64),a=n(s),u=r(69),c=n(u),f=r(13),l=n(f);t.default=function(e,t){function r(n,s){(0,l.default)(s).forEach(function(u){s[u].origin?(n[u]=function(){var r=(0,c.default)(i.default.mark(function r(n,c){var f,p,h,d,m,y,v,g,b=this;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.get(s[u].api+"/"+s[u].origin.replace(/\+/g,"all"),{});case 2:f=r.sent,n(f),p=[],h=!0,d=!1,m=void 0,r.prev=8,y=i.default.mark(function e(){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.value,e.prev=1,e.next=4,t.logs.subscribe(s[u].api,s[u].origin,r,function(e){c(r,JSON.parse(e).item_data)},{rh:2});case 4:n=e.sent,n&&p.push((0,l.default)(n)[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,b,[[1,8]])}),v=(0,a.default)(o);case 11:if(h=(g=v.next()).done){r.next=16;break}return r.delegateYield(y(),"t0",13);case 13:h=!0,r.next=11;break;case 16:r.next=22;break;case 18:r.prev=18,r.t1=r.catch(8),d=!0,m=r.t1;case 22:r.prev=22,r.prev=23,!h&&v.return&&v.return();case 25:if(r.prev=25,!d){r.next=28;break}throw m;case 28:return r.finish(25);case 29:return r.finish(22);case 30:return r.abrupt("return",p);case 31:case"end":return r.stop()}},r,this,[[8,18,22,30],[23,,25,29]])}));return function(e,t){return r.apply(this,arguments)}}(),n[u].stop=function(e){var r=this;e.forEach(function(){var e=(0,c.default)(i.default.mark(function e(n,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logs.unsubscribe(s[u].api,s[u].origin,o[a],n);case 2:case"end":return e.stop()}},e,r)}));return function(t,r){return e.apply(this,arguments)}}())}):n[u]={},s[u].children&&r(n[u],s[u].children)})}var n={},o=["created","updated","deleted"];return r(n,h.default),n};var p=r(137),h=n(p)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=(0,d.default)(r),i={};return n.forEach(function(n,a,c){var l=r[n];if(l.api&&(v=l.api),v,l.origin&&(i["pool"+g+(n[0].toUpperCase()+n.slice(1))]=function(){var r=(0,p.default)(u.default.mark(function r(n,o){var i,s,a,c,p,h,m,y,v=this;return u.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.get(l.api+"/"+l.origin.replace(/\+/g,"all"),{});case 2:i=r.sent,n(i),s=[],a=!0,c=!1,p=void 0,r.prev=8,h=u.default.mark(function e(){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.value,e.prev=1,e.next=4,t.logs.subscribe(l.api,l.origin,r,function(e){o(r,JSON.parse(e).item_data)},{rh:0});case 4:n=e.sent,n&&s.push((0,d.default)(n)[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,v,[[1,8]])}),m=(0,f.default)(b);case 11:if(a=(y=m.next()).done){r.next=16;break}return r.delegateYield(h(),"t0",13);case 13:a=!0,r.next=11;break;case 16:r.next=22;break;case 18:r.prev=18,r.t1=r.catch(8),c=!0,p=r.t1;case 22:r.prev=22,r.prev=23,!a&&m.return&&m.return();case 25:if(r.prev=25,!c){r.next=28;break}throw p;case 28:return r.finish(25);case 29:return r.finish(22);case 30:return r.abrupt("return",s);case 31:case"end":return r.stop()}},r,this,[[8,18,22,30],[23,,25,29]])}));return function(e,t){return r.apply(this,arguments)}}(),i["pool"+g+(n[0].toUpperCase()+n.slice(1))+"Stop"]=function(e){var r=this;e.forEach(function(){var e=(0,p.default)(u.default.mark(function e(n,o){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logs.unsubscribe(l.api,l.origin,b[o],n);case 2:case"end":return e.stop()}},e,r)}));return function(t,r){return e.apply(this,arguments)}}())}),l.children){var h=n[0].toUpperCase()+n.slice(1);g=""+g+h,(0,s.default)(i,o(e,t,l.children)),g=g.replace(h,"")}}),i}Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),s=n(i),a=r(68),u=n(a),c=r(64),f=n(c),l=r(69),p=n(l),h=r(13),d=n(h),m=r(137),y=n(m),v="",g="",b=["created","updated","deleted"];t.default=function(e,t){return o(e,t,y.default)}}]).default});